#!/home/matthew/Documents/intuit_craft_demo/venv/bin/python

import sys
import getopt
import sysconfig

valid_opts = ['prefix', 'exec-prefix', 'includes', 'libs', 'cflags',
              'ldflags', 'help'***REMOVED***

if sys.version_info >= (3, 2***REMOVED***:
    valid_opts.insert(-1, 'extension-suffix'***REMOVED***
    valid_opts.append('abiflags'***REMOVED***
if sys.version_info >= (3, 3***REMOVED***:
    valid_opts.append('configdir'***REMOVED***


def exit_with_usage(code=1***REMOVED***:
    sys.stderr.write("Usage: {0***REMOVED*** [{1***REMOVED******REMOVED***\n".format(
        sys.argv[0***REMOVED***, '|'.join('--'+opt for opt in valid_opts***REMOVED******REMOVED******REMOVED***
    sys.exit(code***REMOVED***

***REMOVED***
    opts, args = getopt.getopt(sys.argv[1:***REMOVED***, '', valid_opts***REMOVED***
except getopt.error:
    exit_with_usage(***REMOVED***

if not opts:
    exit_with_usage(***REMOVED***

pyver = sysconfig.get_config_var('VERSION'***REMOVED***
getvar = sysconfig.get_config_var

opt_flags = [flag for (flag, val***REMOVED*** in opts***REMOVED***

if '--help' in opt_flags:
    exit_with_usage(code=0***REMOVED***

for opt in opt_flags:
    if opt == '--prefix':
        print(sysconfig.get_config_var('prefix'***REMOVED******REMOVED***

    elif opt == '--exec-prefix':
        print(sysconfig.get_config_var('exec_prefix'***REMOVED******REMOVED***

    elif opt in ('--includes', '--cflags'***REMOVED***:
        flags = ['-I' + sysconfig.get_path('include'***REMOVED***,
                 '-I' + sysconfig.get_path('platinclude'***REMOVED******REMOVED***
        if opt == '--cflags':
            flags.extend(getvar('CFLAGS'***REMOVED***.split(***REMOVED******REMOVED***
        print(' '.join(flags***REMOVED******REMOVED***

    elif opt in ('--libs', '--ldflags'***REMOVED***:
        abiflags = getattr(sys, 'abiflags', ''***REMOVED***
        libs = ['-lpython' + pyver + abiflags***REMOVED***
        libs += getvar('LIBS'***REMOVED***.split(***REMOVED***
        libs += getvar('SYSLIBS'***REMOVED***.split(***REMOVED***
        # add the prefix/lib/pythonX.Y/config dir, but only if there is no
        # shared library in prefix/lib/.
        if opt == '--ldflags':
            if not getvar('Py_ENABLE_SHARED'***REMOVED***:
                libs.insert(0, '-L' + getvar('LIBPL'***REMOVED******REMOVED***
            if not getvar('PYTHONFRAMEWORK'***REMOVED***:
                libs.extend(getvar('LINKFORSHARED'***REMOVED***.split(***REMOVED******REMOVED***
        print(' '.join(libs***REMOVED******REMOVED***

    elif opt == '--extension-suffix':
        ext_suffix = sysconfig.get_config_var('EXT_SUFFIX'***REMOVED***
        if ext_suffix is None:
            ext_suffix = sysconfig.get_config_var('SO'***REMOVED***
        print(ext_suffix***REMOVED***

    elif opt == '--abiflags':
        if not getattr(sys, 'abiflags', None***REMOVED***:
            exit_with_usage(***REMOVED***
        print(sys.abiflags***REMOVED***

    elif opt == '--configdir':
        print(sysconfig.get_config_var('LIBPL'***REMOVED******REMOVED***
