from __future__ import absolute_import, division, unicode_literals

from .. import treewalkers

from .htmlserializer import HTMLSerializer


def serialize(input, tree="etree", format="html", encoding=None,
              **serializer_opts***REMOVED***:
    # XXX: Should we cache this?
    walker = treewalkers.getTreeWalker(tree***REMOVED***
    if format == "html":
        s = HTMLSerializer(**serializer_opts***REMOVED***
    else:
        raise ValueError("type must be html"***REMOVED***
    return s.render(walker(input***REMOVED***, encoding***REMOVED***
