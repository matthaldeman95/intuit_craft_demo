from __future__ import absolute_import, division, unicode_literals

from . import _base

***REMOVED***
    from collections import OrderedDict
except ImportError:
    from ordereddict import OrderedDict


class Filter(_base.Filter***REMOVED***:
    def __iter__(self***REMOVED***:
        for token in _base.Filter.__iter__(self***REMOVED***:
            if token["type"***REMOVED*** in ("StartTag", "EmptyTag"***REMOVED***:
                attrs = OrderedDict(***REMOVED***
                for name, value in sorted(token["data"***REMOVED***.items(***REMOVED***,
                                          key=lambda x: x[0***REMOVED******REMOVED***:
                    attrs[name***REMOVED*** = value
                token["data"***REMOVED*** = attrs
            yield token
