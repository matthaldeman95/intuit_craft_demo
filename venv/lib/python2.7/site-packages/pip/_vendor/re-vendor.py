***REMOVED***
import sys
import pip
import glob
import shutil

here = os.path.abspath(os.path.dirname(__file__***REMOVED******REMOVED***

def usage(***REMOVED***:
    print("Usage: re-vendor.py [clean|vendor***REMOVED***"***REMOVED***
    sys.exit(1***REMOVED***

def clean(***REMOVED***:
    for fn in os.listdir(here***REMOVED***:
        dirname = os.path.join(here, fn***REMOVED***
        if os.path.isdir(dirname***REMOVED***:
            shutil.rmtree(dirname***REMOVED***
    # six is a single file, not a package
    os.unlink(os.path.join(here, 'six.py'***REMOVED******REMOVED***

def vendor(***REMOVED***:
    pip.main(['install', '-t', here, '-r', 'vendor.txt'***REMOVED******REMOVED***
    for dirname in glob.glob('*.egg-info'***REMOVED***:
        shutil.rmtree(dirname***REMOVED***

if __name__ == '__main__':
    if len(sys.argv***REMOVED*** != 2:
        usage(***REMOVED***
    if sys.argv[1***REMOVED*** == 'clean':
        clean(***REMOVED***
    elif sys.argv[1***REMOVED*** == 'vendor':
        vendor(***REMOVED***
    else:
        usage(***REMOVED***
