from .adapter import CacheControlAdapter
from .cache import DictCache


def CacheControl(sess,
                 cache=None,
                 cache_etags=True,
                 serializer=None,
                 heuristic=None***REMOVED***:

    cache = cache or DictCache(***REMOVED***
    adapter = CacheControlAdapter(
        cache,
        cache_etags=cache_etags,
        serializer=serializer,
        heuristic=heuristic,
    ***REMOVED***
    sess.mount('http://', adapter***REMOVED***
    sess.mount('https://', adapter***REMOVED***

    return sess
