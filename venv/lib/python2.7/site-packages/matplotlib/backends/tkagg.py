from __future__ import (absolute_import, division, print_function,
                        unicode_literals***REMOVED***

from matplotlib.externals import six
from matplotlib.externals.six.moves import tkinter as Tk

import numpy as np

from matplotlib.backends import _tkagg

def blit(photoimage, aggimage, bbox=None, colormode=1***REMOVED***:
    tk = photoimage.tk

    if bbox is not None:
        bbox_array = bbox.__array__(***REMOVED***
    else:
        bbox_array = None
    data = np.asarray(aggimage***REMOVED***
    ***REMOVED***
        tk.call(
            "PyAggImagePhoto", photoimage,
            id(data***REMOVED***, colormode, id(bbox_array***REMOVED******REMOVED***
    except Tk.TclError:
        ***REMOVED***
            ***REMOVED***
                _tkagg.tkinit(tk.interpaddr(***REMOVED***, 1***REMOVED***
            except AttributeError:
                _tkagg.tkinit(id(tk***REMOVED***, 0***REMOVED***
            tk.call("PyAggImagePhoto", photoimage,
                    id(data***REMOVED***, colormode, id(bbox_array***REMOVED******REMOVED***
        except (ImportError, AttributeError, Tk.TclError***REMOVED***:
            raise

def test(aggimage***REMOVED***:
    import time
    r = Tk.Tk(***REMOVED***
    c = Tk.Canvas(r, width=aggimage.width, height=aggimage.height***REMOVED***
    c.pack(***REMOVED***
    p = Tk.PhotoImage(width=aggimage.width, height=aggimage.height***REMOVED***
    blit(p, aggimage***REMOVED***
    c.create_image(aggimage.width,aggimage.height,image=p***REMOVED***
    blit(p, aggimage***REMOVED***
    while 1: r.update_idletasks(***REMOVED***
