!function(d3***REMOVED*** {
  var mpld3 = {
    _mpld3IsLoaded: true,
    figures: [***REMOVED***,
    plugin_map: {***REMOVED***
  ***REMOVED***;
  mpld3.version = "0.2git";
  mpld3.register_plugin = function(name, obj***REMOVED*** {
    mpld3.plugin_map[name***REMOVED*** = obj;
  ***REMOVED***;
  mpld3.draw_figure = function(figid, spec***REMOVED*** {
    var element = document.getElementById(figid***REMOVED***;
    if (element === null***REMOVED*** {
      throw figid + " is not a valid id";
***REMOVED***
    var fig = new mpld3.Figure(figid, spec***REMOVED***;
    mpld3.figures.push(fig***REMOVED***;
    fig.draw(***REMOVED***;
    return fig;
  ***REMOVED***;
  mpld3.cloneObj = mpld3_cloneObj;
  function mpld3_cloneObj(oldObj***REMOVED*** {
    var newObj = {***REMOVED***;
    for (var key in oldObj***REMOVED*** {
      newObj[key***REMOVED*** = oldObj[key***REMOVED***;
***REMOVED***
    return newObj;
  ***REMOVED***
  mpld3.merge_objects = function(_***REMOVED*** {
    var output = {***REMOVED***;
    var obj;
    for (var i = 0; i < arguments.length; i++***REMOVED*** {
      obj = arguments[i***REMOVED***;
      for (var attr in obj***REMOVED*** {
        output[attr***REMOVED*** = obj[attr***REMOVED***;
  ***REMOVED***
***REMOVED***
    return output;
  ***REMOVED***;
  mpld3.generate_id = function(N, chars***REMOVED*** {
    console.warn("mpld3.generate_id is deprecated. " + "Use mpld3.generateId instead."***REMOVED***;
    return mpld3_generateId(N, chars***REMOVED***;
  ***REMOVED***;
  mpld3.generateId = mpld3_generateId;
  function mpld3_generateId(N, chars***REMOVED*** {
    N = typeof N !== "undefined" ? N : 10;
    chars = typeof chars !== "undefined" ? chars : "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    var id = chars.charAt(Math.round(Math.random(***REMOVED*** * (chars.length - 11***REMOVED******REMOVED******REMOVED***;
    for (var i = 1; i < N; i++***REMOVED*** id += chars.charAt(Math.round(Math.random(***REMOVED*** * (chars.length - 1***REMOVED******REMOVED******REMOVED***;
    return id;
  ***REMOVED***
  mpld3.get_element = function(id, fig***REMOVED*** {
    var figs_to_search, ax, el;
    if (typeof fig === "undefined"***REMOVED*** {
      figs_to_search = mpld3.figures;
***REMOVED*** else if (typeof fig.length === "undefined"***REMOVED*** {
      figs_to_search = [ fig ***REMOVED***;
***REMOVED*** else {
      figs_to_search = fig;
***REMOVED***
    for (var i = 0; i < figs_to_search.length; i++***REMOVED*** {
      fig = figs_to_search[i***REMOVED***;
      if (fig.props.id === id***REMOVED*** {
        return fig;
  ***REMOVED***
      for (var j = 0; j < fig.axes.length; j++***REMOVED*** {
        ax = fig.axes[j***REMOVED***;
        if (ax.props.id === id***REMOVED*** {
          return ax;
    ***REMOVED***
        for (var k = 0; k < ax.elements.length; k++***REMOVED*** {
          el = ax.elements[k***REMOVED***;
          if (el.props.id === id***REMOVED*** {
            return el;
      ***REMOVED***
    ***REMOVED***
  ***REMOVED***
***REMOVED***
    return null;
  ***REMOVED***;
  mpld3.insert_css = function(selector, attributes***REMOVED*** {
    var head = document.head || document.getElementsByTagName("head"***REMOVED***[0***REMOVED***;
    var style = document.createElement("style"***REMOVED***;
    var css = selector + " {";
    for (var prop in attributes***REMOVED*** {
      css += prop + ":" + attributes[prop***REMOVED*** + "; ";
***REMOVED***
    css += "***REMOVED***";
    style.type = "text/css";
    if (style.styleSheet***REMOVED*** {
      style.styleSheet.cssText = css;
***REMOVED*** else {
      style.appendChild(document.createTextNode(css***REMOVED******REMOVED***;
***REMOVED***
    head.appendChild(style***REMOVED***;
  ***REMOVED***;
  mpld3.process_props = function(obj, properties, defaults, required***REMOVED*** {
    console.warn("mpld3.process_props is deprecated. " + "Plot elements should derive from mpld3.PlotElement"***REMOVED***;
    Element.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
    Element.prototype.constructor = Element;
    Element.prototype.requiredProps = required;
    Element.prototype.defaultProps = defaults;
    function Element(props***REMOVED*** {
      mpld3_PlotElement.call(this, null, props***REMOVED***;
***REMOVED***
    var el = new Element(properties***REMOVED***;
    return el.props;
  ***REMOVED***;
  mpld3.interpolateDates = mpld3_interpolateDates;
  function mpld3_interpolateDates(a, b***REMOVED*** {
    var interp = d3.interpolate([ a[0***REMOVED***.valueOf(***REMOVED***, a[1***REMOVED***.valueOf(***REMOVED*** ***REMOVED***, [ b[0***REMOVED***.valueOf(***REMOVED***, b[1***REMOVED***.valueOf(***REMOVED*** ***REMOVED******REMOVED***;
    return function(t***REMOVED*** {
      var i = interp(t***REMOVED***;
      return [ new Date(i[0***REMOVED******REMOVED***, new Date(i[1***REMOVED******REMOVED*** ***REMOVED***;
***REMOVED***;
  ***REMOVED***
  function isUndefined(x***REMOVED*** {
    return typeof x === "undefined";
  ***REMOVED***
  function isUndefinedOrNull(x***REMOVED*** {
    return x == null || isUndefined(x***REMOVED***;
  ***REMOVED***
  function getMod(L, i***REMOVED*** {
    return L.length > 0 ? L[i % L.length***REMOVED*** : null;
  ***REMOVED***
  mpld3.path = function(***REMOVED*** {
    return mpld3_path(***REMOVED***;
  ***REMOVED***;
  function mpld3_path(_***REMOVED*** {
    var x = function(d, i***REMOVED*** {
      return d[0***REMOVED***;
***REMOVED***;
    var y = function(d, i***REMOVED*** {
      return d[1***REMOVED***;
***REMOVED***;
    var defined = function(d, i***REMOVED*** {
      return true;
***REMOVED***;
    var n_vertices = {
      M: 1,
      m: 1,
      L: 1,
      l: 1,
      Q: 2,
      q: 2,
      T: 1,
      t: 1,
      S: 2,
      s: 2,
      C: 3,
      c: 3,
      Z: 0,
      z: 0
***REMOVED***;
    function path(vertices, pathcodes***REMOVED*** {
      var fx = d3.functor(x***REMOVED***, fy = d3.functor(y***REMOVED***;
      var points = [***REMOVED***, segments = [***REMOVED***, i_v = 0, i_c = -1, halt = 0, nullpath = false;
      if (!pathcodes***REMOVED*** {
        pathcodes = [ "M" ***REMOVED***;
        for (var i = 1; i < vertices.length; i++***REMOVED*** pathcodes.push("L"***REMOVED***;
  ***REMOVED***
      while (++i_c < pathcodes.length***REMOVED*** {
        halt = i_v + n_vertices[pathcodes[i_c***REMOVED******REMOVED***;
        points = [***REMOVED***;
        while (i_v < halt***REMOVED*** {
          if (defined.call(this, vertices[i_v***REMOVED***, i_v***REMOVED******REMOVED*** {
            points.push(fx.call(this, vertices[i_v***REMOVED***, i_v***REMOVED***, fy.call(this, vertices[i_v***REMOVED***, i_v***REMOVED******REMOVED***;
            i_v++;
      ***REMOVED*** else {
            points = null;
            i_v = halt;
      ***REMOVED***
    ***REMOVED***
        if (!points***REMOVED*** {
          nullpath = true;
    ***REMOVED*** else if (nullpath && points.length > 0***REMOVED*** {
          segments.push("M", points[0***REMOVED***, points[1***REMOVED******REMOVED***;
          nullpath = false;
    ***REMOVED*** else {
          segments.push(pathcodes[i_c***REMOVED******REMOVED***;
          segments = segments.concat(points***REMOVED***;
    ***REMOVED***
  ***REMOVED***
      if (i_v != vertices.length***REMOVED*** console.warn("Warning: not all vertices used in Path"***REMOVED***;
      return segments.join(" "***REMOVED***;
***REMOVED***
    path.x = function(_***REMOVED*** {
      if (!arguments.length***REMOVED*** return x;
      x = _;
      return path;
***REMOVED***;
    path.y = function(_***REMOVED*** {
      if (!arguments.length***REMOVED*** return y;
      y = _;
      return path;
***REMOVED***;
    path.defined = function(_***REMOVED*** {
      if (!arguments.length***REMOVED*** return defined;
      defined = _;
      return path;
***REMOVED***;
    path.call = path;
    return path;
  ***REMOVED***
  mpld3.multiscale = mpld3_multiscale;
  function mpld3_multiscale(_***REMOVED*** {
    var args = Array.prototype.slice.call(arguments, 0***REMOVED***;
    var N = args.length;
    function scale(x***REMOVED*** {
      args.forEach(function(mapping***REMOVED*** {
        x = mapping(x***REMOVED***;
  ***REMOVED******REMOVED***;
      return x;
***REMOVED***
    scale.domain = function(x***REMOVED*** {
      if (!arguments.length***REMOVED*** return args[0***REMOVED***.domain(***REMOVED***;
      args[0***REMOVED***.domain(x***REMOVED***;
      return scale;
***REMOVED***;
    scale.range = function(x***REMOVED*** {
      if (!arguments.length***REMOVED*** return args[N - 1***REMOVED***.range(***REMOVED***;
      args[N - 1***REMOVED***.range(x***REMOVED***;
      return scale;
***REMOVED***;
    scale.step = function(i***REMOVED*** {
      return args[i***REMOVED***;
***REMOVED***;
    return scale;
  ***REMOVED***
  mpld3.icons = {
    reset: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gIcACMoD/OzIwAAAJhJREFUOMtjYKAx4KDUgNsMDAx7\nyNV8i4GB4T8U76VEM8mGYNNMtCH4NBM0hBjNMIwSsMzQ0MamcDkDA8NmQi6xggpUoikwQbIkHk2u\nE0rLI7vCBknBSyxeRDZAE6qHgQkq+ZeBgYERSfFPAoHNDNUDN4BswIRmKgxwEasP2dlsDAwMYlA/\n/mVgYHiBpkkGKscIDaPfVMmuAGnOTaGsXF0MAAAAAElFTkSuQmCC\n",
    move: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gIcACQMfLHBNQAAANZJREFUOMud07FKA0EQBuAviaKB\nlFr7COJrpAyYRlKn8hECEkFEn8ROCCm0sBMRYgh5EgVFtEhsRjiO27vkBoZd/vn5d3b+XcrjFI9q\nxgXWkc8pUjOB93GMd3zgB9d1unjDSxmhWSHQqOJki+MtOuv/b3ZifUqctIrMxwhHuG1gim4Ma5kR\nWuEkXFgU4B0MW1Ho4TeyjX3s4TDq3zn8ALvZ7q5wX9DqLOHCDA95cFBAnOO1AL/ZdNopgY3fQcqF\nyriMe37hM9w521ZkkvlMo7o/8g7nZYQ/QDctp1nTCf0AAAAASUVORK5CYII=\n",
    zoom: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gMPDiIRPL/2oQAAANBJREFUOMvF0b9KgzEcheHHVnCT\nKoI4uXbtLXgB3oJDJxevw1VwkoJ/NjepQ2/BrZRCx0ILFURQKV2kyOeSQpAmn7WDB0Lg955zEhLy\n2scdXlBggits+4WOQqjAJ3qYR7NGLrwXGU9+sGbEtlIF18FwmuBngZ+nCt6CIacC3Rx8LSl4xzgF\nn0tusBn4UyVhuA/7ZYIv5g+pE3ail25hN/qdmzCfpsJVjKKCZesDBwtzrAqGOMQj6vhCDRsY4ALH\nmOVObltR/xeG/jph6OD2r+Fv5lZBWEhMx58AAAAASUVORK5CYII=\n",
    brush: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAEQkAABEJAFAZ8RUAAAAB3RJTUUH3gMCEiQKB9YaAgAAAWtJREFUOMuN0r1qVVEQhuFn700k\nnfEvBq0iNiIiOKXgH4KCaBeIhWARK/EibLwFCwVLjyAWaQzRGG9grC3URkHUBKKgRuWohWvL5pjj\nyTSLxcz7rZlZHyMiItqzFxGTEVF18/UoODNFxDIO4x12dkXqTcBPsCUzD+AK3ndFqhHwEsYz82gn\nN4dbmMRK9R/4KY7jAvbiWmYeHBT5Z4QCP8J1rGAeN3GvU3Mbl/Gq3qCDcxjLzOV+v78fq/iFIxFx\nPyJ2lNJpfBy2g59YzMyzEbEVLzGBJjOriLiBq5gaJrCIU3hcRCbwAtuwjm/Yg/V6I9NgDA1OR8RC\nZq6Vcd7iUwtn5h8fdMBdETGPE+Xe4ExELDRNs4bX2NfCUHe+7UExyfkCP8MhzOA7PuAkvrbwXyNF\nxF3MDqxiqlhXC7SPdaOKiN14g0u4g3H0MvOiTUSNY3iemb0ywmfMdfYyUmAJ2yPiBx6Wr/oy2Oqw\n+A1SupBzAOuE/AAAAABJRU5ErkJggg==\n"
  ***REMOVED***;
  mpld3.Grid = mpld3_Grid;
  mpld3_Grid.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Grid.prototype.constructor = mpld3_Grid;
  mpld3_Grid.prototype.requiredProps = [ "xy" ***REMOVED***;
  mpld3_Grid.prototype.defaultProps = {
    color: "gray",
    dasharray: "2,2",
    alpha: "0.5",
    nticks: 10,
    gridOn: true,
    tickvalues: null,
    zorder: 0
  ***REMOVED***;
  function mpld3_Grid(ax, prop***REMOVED*** {
    mpld3_PlotElement.call(this, ax, prop***REMOVED***;
    this.cssclass = "mpld3-" + this.props.xy + "grid";
    if (this.props.xy == "x"***REMOVED*** {
      this.transform = "translate(0," + this.ax.height + "***REMOVED***";
      this.position = "bottom";
      this.scale = this.ax.xdom;
      this.tickSize = -this.ax.height;
***REMOVED*** else if (this.props.xy == "y"***REMOVED*** {
      this.transform = "translate(0,0***REMOVED***";
      this.position = "left";
      this.scale = this.ax.ydom;
      this.tickSize = -this.ax.width;
***REMOVED*** else {
      throw "unrecognized grid xy specifier: should be 'x' or 'y'";
***REMOVED***
  ***REMOVED***
  mpld3_Grid.prototype.draw = function(***REMOVED*** {
    this.grid = d3.svg.axis(***REMOVED***.scale(this.scale***REMOVED***.orient(this.position***REMOVED***.ticks(this.props.nticks***REMOVED***.tickValues(this.props.tickvalues***REMOVED***.tickSize(this.tickSize, 0, 0***REMOVED***.tickFormat(""***REMOVED***;
    this.elem = this.ax.axes.append("g"***REMOVED***.attr("class", this.cssclass***REMOVED***.attr("transform", this.transform***REMOVED***.call(this.grid***REMOVED***;
    mpld3.insert_css("div#" + this.ax.fig.figid + " ." + this.cssclass + " .tick", {
      stroke: this.props.color,
      "stroke-dasharray": this.props.dasharray,
      "stroke-opacity": this.props.alpha
***REMOVED******REMOVED***;
    mpld3.insert_css("div#" + this.ax.fig.figid + " ." + this.cssclass + " path", {
      "stroke-width": 0
***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Grid.prototype.zoomed = function(***REMOVED*** {
    this.elem.call(this.grid***REMOVED***;
  ***REMOVED***;
  mpld3.Axis = mpld3_Axis;
  mpld3_Axis.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Axis.prototype.constructor = mpld3_Axis;
  mpld3_Axis.prototype.requiredProps = [ "position" ***REMOVED***;
  mpld3_Axis.prototype.defaultProps = {
    nticks: 10,
    tickvalues: null,
    tickformat: null,
    fontsize: "11px",
    fontcolor: "black",
    axiscolor: "black",
    scale: "linear",
    grid: {***REMOVED***,
    zorder: 0
  ***REMOVED***;
  function mpld3_Axis(ax, props***REMOVED*** {
    mpld3_PlotElement.call(this, ax, props***REMOVED***;
    var trans = {
      bottom: [ 0, this.ax.height ***REMOVED***,
      top: [ 0, 0 ***REMOVED***,
      left: [ 0, 0 ***REMOVED***,
      right: [ this.ax.width, 0 ***REMOVED***
***REMOVED***;
    var xy = {
      bottom: "x",
      top: "x",
      left: "y",
      right: "y"
***REMOVED***;
    this.transform = "translate(" + trans[this.props.position***REMOVED*** + "***REMOVED***";
    this.props.xy = xy[this.props.position***REMOVED***;
    this.cssclass = "mpld3-" + this.props.xy + "axis";
    this.scale = this.ax[this.props.xy + "dom"***REMOVED***;
  ***REMOVED***
  mpld3_Axis.prototype.getGrid = function(***REMOVED*** {
    var gridprop = {
      nticks: this.props.nticks,
      zorder: this.props.zorder,
      tickvalues: this.props.tickvalues,
      xy: this.props.xy
***REMOVED***;
    if (this.props.grid***REMOVED*** {
      for (var key in this.props.grid***REMOVED*** {
        gridprop[key***REMOVED*** = this.props.grid[key***REMOVED***;
  ***REMOVED***
***REMOVED***
    return new mpld3_Grid(this.ax, gridprop***REMOVED***;
  ***REMOVED***;
  mpld3_Axis.prototype.draw = function(***REMOVED*** {
    this.axis = d3.svg.axis(***REMOVED***.scale(this.scale***REMOVED***.orient(this.props.position***REMOVED***.ticks(this.props.nticks***REMOVED***.tickValues(this.props.tickvalues***REMOVED***.tickFormat(this.props.tickformat***REMOVED***;
    this.elem = this.ax.baseaxes.append("g"***REMOVED***.attr("transform", this.transform***REMOVED***.attr("class", this.cssclass***REMOVED***.call(this.axis***REMOVED***;
    mpld3.insert_css("div#" + this.ax.fig.figid + " ." + this.cssclass + " line, " + " ." + this.cssclass + " path", {
      "shape-rendering": "crispEdges",
      stroke: this.props.axiscolor,
      fill: "none"
***REMOVED******REMOVED***;
    mpld3.insert_css("div#" + this.ax.fig.figid + " ." + this.cssclass + " text", {
      "font-family": "sans-serif",
      "font-size": this.props.fontsize,
      fill: this.props.fontcolor,
      stroke: "none"
***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Axis.prototype.zoomed = function(***REMOVED*** {
    this.elem.call(this.axis***REMOVED***;
  ***REMOVED***;
  mpld3.Coordinates = mpld3_Coordinates;
  function mpld3_Coordinates(trans, ax***REMOVED*** {
    if (typeof ax === "undefined"***REMOVED*** {
      this.ax = null;
      this.fig = null;
      if (this.trans !== "display"***REMOVED*** throw "ax must be defined if transform != 'display'";
***REMOVED*** else {
      this.ax = ax;
      this.fig = ax.fig;
***REMOVED***
    this.zoomable = trans === "data";
    this.x = this["x_" + trans***REMOVED***;
    this.y = this["y_" + trans***REMOVED***;
    if (typeof this.x === "undefined" || typeof this.y === "undefined"***REMOVED*** throw "unrecognized coordinate code: " + trans;
  ***REMOVED***
  mpld3_Coordinates.prototype.xy = function(d, ix, iy***REMOVED*** {
    ix = typeof ix === "undefined" ? 0 : ix;
    iy = typeof iy === "undefined" ? 1 : iy;
    return [ this.x(d[ix***REMOVED******REMOVED***, this.y(d[iy***REMOVED******REMOVED*** ***REMOVED***;
  ***REMOVED***;
  mpld3_Coordinates.prototype.x_data = function(x***REMOVED*** {
    return this.ax.x(x***REMOVED***;
  ***REMOVED***;
  mpld3_Coordinates.prototype.y_data = function(y***REMOVED*** {
    return this.ax.y(y***REMOVED***;
  ***REMOVED***;
  mpld3_Coordinates.prototype.x_display = function(x***REMOVED*** {
    return x;
  ***REMOVED***;
  mpld3_Coordinates.prototype.y_display = function(y***REMOVED*** {
    return y;
  ***REMOVED***;
  mpld3_Coordinates.prototype.x_axes = function(x***REMOVED*** {
    return x * this.ax.width;
  ***REMOVED***;
  mpld3_Coordinates.prototype.y_axes = function(y***REMOVED*** {
    return this.ax.height * (1 - y***REMOVED***;
  ***REMOVED***;
  mpld3_Coordinates.prototype.x_figure = function(x***REMOVED*** {
    return x * this.fig.width - this.ax.position[0***REMOVED***;
  ***REMOVED***;
  mpld3_Coordinates.prototype.y_figure = function(y***REMOVED*** {
    return (1 - y***REMOVED*** * this.fig.height - this.ax.position[1***REMOVED***;
  ***REMOVED***;
  mpld3.Path = mpld3_Path;
  mpld3_Path.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Path.prototype.constructor = mpld3_Path;
  mpld3_Path.prototype.requiredProps = [ "data" ***REMOVED***;
  mpld3_Path.prototype.defaultProps = {
    xindex: 0,
    yindex: 1,
    coordinates: "data",
    facecolor: "green",
    edgecolor: "black",
    edgewidth: 1,
    dasharray: "10,0",
    pathcodes: null,
    offset: null,
    offsetcoordinates: "data",
    alpha: 1,
    zorder: 1
  ***REMOVED***;
  function mpld3_Path(ax, props***REMOVED*** {
    mpld3_PlotElement.call(this, ax, props***REMOVED***;
    this.data = ax.fig.get_data(this.props.data***REMOVED***;
    this.pathcodes = this.props.pathcodes;
    this.pathcoords = new mpld3_Coordinates(this.props.coordinates, this.ax***REMOVED***;
    this.offsetcoords = new mpld3_Coordinates(this.props.offsetcoordinates, this.ax***REMOVED***;
    this.datafunc = mpld3_path(***REMOVED***;
  ***REMOVED***
  mpld3_Path.prototype.nanFilter = function(d, i***REMOVED*** {
    return !isNaN(d[this.props.xindex***REMOVED******REMOVED*** && !isNaN(d[this.props.yindex***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Path.prototype.draw = function(***REMOVED*** {
    this.datafunc.defined(this.nanFilter.bind(this***REMOVED******REMOVED***.x(function(d***REMOVED*** {
      return this.pathcoords.x(d[this.props.xindex***REMOVED******REMOVED***;
***REMOVED******REMOVED***.y(function(d***REMOVED*** {
      return this.pathcoords.y(d[this.props.yindex***REMOVED******REMOVED***;
***REMOVED******REMOVED***;
    this.path = this.ax.axes.append("svg:path"***REMOVED***.attr("d", this.datafunc(this.data, this.pathcodes***REMOVED******REMOVED***.attr("class", "mpld3-path"***REMOVED***.style("stroke", this.props.edgecolor***REMOVED***.style("stroke-width", this.props.edgewidth***REMOVED***.style("stroke-dasharray", this.props.dasharray***REMOVED***.style("stroke-opacity", this.props.alpha***REMOVED***.style("fill", this.props.facecolor***REMOVED***.style("fill-opacity", this.props.alpha***REMOVED***.attr("vector-effect", "non-scaling-stroke"***REMOVED***;
    if (this.props.offset !== null***REMOVED*** {
      var offset = this.offsetcoords.xy(this.props.offset***REMOVED***;
      this.path.attr("transform", "translate(" + offset + "***REMOVED***"***REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3_Path.prototype.elements = function(d***REMOVED*** {
    return this.path;
  ***REMOVED***;
  mpld3_Path.prototype.zoomed = function(***REMOVED*** {
    if (this.pathcoords.zoomable***REMOVED*** {
      this.path.attr("d", this.datafunc(this.data, this.pathcodes***REMOVED******REMOVED***;
***REMOVED***
    if (this.props.offset !== null && this.offsetcoords.zoomable***REMOVED*** {
      var offset = this.offsetcoords.xy(this.props.offset***REMOVED***;
      this.path.attr("transform", "translate(" + offset + "***REMOVED***"***REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3.PathCollection = mpld3_PathCollection;
  mpld3_PathCollection.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_PathCollection.prototype.constructor = mpld3_PathCollection;
  mpld3_PathCollection.prototype.requiredProps = [ "paths", "offsets" ***REMOVED***;
  mpld3_PathCollection.prototype.defaultProps = {
    xindex: 0,
    yindex: 1,
    pathtransforms: [***REMOVED***,
    pathcoordinates: "display",
    offsetcoordinates: "data",
    offsetorder: "before",
    edgecolors: [ "#000000" ***REMOVED***,
    edgewidths: [ 1 ***REMOVED***,
    facecolors: [ "#0000FF" ***REMOVED***,
    alphas: [ 1 ***REMOVED***,
    zorder: 2
  ***REMOVED***;
  function mpld3_PathCollection(ax, props***REMOVED*** {
    mpld3_PlotElement.call(this, ax, props***REMOVED***;
    if (this.props.facecolors == null || this.props.facecolors.length == 0***REMOVED*** {
      this.props.facecolors = [ "none" ***REMOVED***;
***REMOVED***
    if (this.props.edgecolors == null || this.props.edgecolors.length == 0***REMOVED*** {
      this.props.edgecolors = [ "none" ***REMOVED***;
***REMOVED***
    var offsets = this.ax.fig.get_data(this.props.offsets***REMOVED***;
    if (offsets === null || offsets.length === 0***REMOVED*** offsets = [ null ***REMOVED***;
    var N = Math.max(this.props.paths.length, offsets.length***REMOVED***;
    if (offsets.length === N***REMOVED*** {
      this.offsets = offsets;
***REMOVED*** else {
      this.offsets = [***REMOVED***;
      for (var i = 0; i < N; i++***REMOVED*** this.offsets.push(getMod(offsets, i***REMOVED******REMOVED***;
***REMOVED***
    this.pathcoords = new mpld3_Coordinates(this.props.pathcoordinates, this.ax***REMOVED***;
    this.offsetcoords = new mpld3_Coordinates(this.props.offsetcoordinates, this.ax***REMOVED***;
  ***REMOVED***
  mpld3_PathCollection.prototype.transformFunc = function(d, i***REMOVED*** {
    var t = this.props.pathtransforms;
    var transform = t.length == 0 ? "" : d3.transform("matrix(" + getMod(t, i***REMOVED*** + "***REMOVED***"***REMOVED***.toString(***REMOVED***;
    var offset = d === null || typeof d === "undefined" ? "translate(0, 0***REMOVED***" : "translate(" + this.offsetcoords.xy(d, this.props.xindex, this.props.yindex***REMOVED*** + "***REMOVED***";
    return this.props.offsetorder === "after" ? transform + offset : offset + transform;
  ***REMOVED***;
  mpld3_PathCollection.prototype.pathFunc = function(d, i***REMOVED*** {
    return mpld3_path(***REMOVED***.x(function(d***REMOVED*** {
      return this.pathcoords.x(d[0***REMOVED******REMOVED***;
***REMOVED***.bind(this***REMOVED******REMOVED***.y(function(d***REMOVED*** {
      return this.pathcoords.y(d[1***REMOVED******REMOVED***;
***REMOVED***.bind(this***REMOVED******REMOVED***.apply(this, getMod(this.props.paths, i***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_PathCollection.prototype.styleFunc = function(d, i***REMOVED*** {
    var styles = {
      stroke: getMod(this.props.edgecolors, i***REMOVED***,
      "stroke-width": getMod(this.props.edgewidths, i***REMOVED***,
      "stroke-opacity": getMod(this.props.alphas, i***REMOVED***,
      fill: getMod(this.props.facecolors, i***REMOVED***,
      "fill-opacity": getMod(this.props.alphas, i***REMOVED***
***REMOVED***;
    var ret = "";
    for (var key in styles***REMOVED*** {
      ret += key + ":" + styles[key***REMOVED*** + ";";
***REMOVED***
    return ret;
  ***REMOVED***;
  mpld3_PathCollection.prototype.draw = function(***REMOVED*** {
    this.group = this.ax.axes.append("svg:g"***REMOVED***;
    this.pathsobj = this.group.selectAll("paths"***REMOVED***.data(this.offsets***REMOVED***.enter(***REMOVED***.append("svg:path"***REMOVED***.attr("d", this.pathFunc.bind(this***REMOVED******REMOVED***.attr("class", "mpld3-path"***REMOVED***.attr("transform", this.transformFunc.bind(this***REMOVED******REMOVED***.attr("style", this.styleFunc.bind(this***REMOVED******REMOVED***.attr("vector-effect", "non-scaling-stroke"***REMOVED***;
  ***REMOVED***;
  mpld3_PathCollection.prototype.elements = function(d***REMOVED*** {
    return this.group.selectAll("path"***REMOVED***;
  ***REMOVED***;
  mpld3_PathCollection.prototype.zoomed = function(***REMOVED*** {
    if (this.props.pathcoordinates === "data"***REMOVED*** {
      this.pathsobj.attr("d", this.pathFunc.bind(this***REMOVED******REMOVED***;
***REMOVED***
    if (this.props.offsetcoordinates === "data"***REMOVED*** {
      this.pathsobj.attr("transform", this.transformFunc.bind(this***REMOVED******REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3.Line = mpld3_Line;
  mpld3_Line.prototype = Object.create(mpld3_Path.prototype***REMOVED***;
  mpld3_Line.prototype.constructor = mpld3_Line;
  mpld3_Line.prototype.requiredProps = [ "data" ***REMOVED***;
  mpld3_Line.prototype.defaultProps = {
    xindex: 0,
    yindex: 1,
    coordinates: "data",
    color: "salmon",
    linewidth: 2,
    dasharray: "10,0",
    alpha: 1,
    zorder: 2
  ***REMOVED***;
  function mpld3_Line(ax, props***REMOVED*** {
    mpld3_PlotElement.call(this, ax, props***REMOVED***;
    var pathProps = this.props;
    pathProps.facecolor = "none";
    pathProps.edgecolor = pathProps.color;
    delete pathProps.color;
    pathProps.edgewidth = pathProps.linewidth;
    delete pathProps.linewidth;
    this.defaultProps = mpld3_Path.prototype.defaultProps;
    mpld3_Path.call(this, ax, pathProps***REMOVED***;
    this.datafunc = d3.svg.line(***REMOVED***.interpolate("linear"***REMOVED***;
  ***REMOVED***
  mpld3.Markers = mpld3_Markers;
  mpld3_Markers.prototype = Object.create(mpld3_PathCollection.prototype***REMOVED***;
  mpld3_Markers.prototype.constructor = mpld3_Markers;
  mpld3_Markers.prototype.requiredProps = [ "data" ***REMOVED***;
  mpld3_Markers.prototype.defaultProps = {
    xindex: 0,
    yindex: 1,
    coordinates: "data",
    facecolor: "salmon",
    edgecolor: "black",
    edgewidth: 1,
    alpha: 1,
    markersize: 6,
    markername: "circle",
    markerpath: null,
    zorder: 3
  ***REMOVED***;
  function mpld3_Markers(ax, props***REMOVED*** {
    mpld3_PlotElement.call(this, ax, props***REMOVED***;
    if (this.props.markerpath !== null***REMOVED*** {
      this.marker = this.props.markerpath[0***REMOVED***.length == 0 ? null : mpld3.path(***REMOVED***.call(this.props.markerpath[0***REMOVED***, this.props.markerpath[1***REMOVED******REMOVED***;
***REMOVED*** else {
      this.marker = this.props.markername === null ? null : d3.svg.symbol(this.props.markername***REMOVED***.size(Math.pow(this.props.markersize, 2***REMOVED******REMOVED***(***REMOVED***;
***REMOVED***
    var PCprops = {
      paths: [ this.props.markerpath ***REMOVED***,
      offsets: ax.fig.get_data(this.props.data***REMOVED***,
      xindex: this.props.xindex,
      yindex: this.props.yindex,
      offsetcoordinates: this.props.coordinates,
      edgecolors: [ this.props.edgecolor ***REMOVED***,
      edgewidths: [ this.props.edgewidth ***REMOVED***,
      facecolors: [ this.props.facecolor ***REMOVED***,
      alphas: [ this.props.alpha ***REMOVED***,
      zorder: this.props.zorder,
      id: this.props.id
***REMOVED***;
    this.requiredProps = mpld3_PathCollection.prototype.requiredProps;
    this.defaultProps = mpld3_PathCollection.prototype.defaultProps;
    mpld3_PathCollection.call(this, ax, PCprops***REMOVED***;
  ***REMOVED***
  mpld3_Markers.prototype.pathFunc = function(d, i***REMOVED*** {
    return this.marker;
  ***REMOVED***;
  mpld3.Image = mpld3_Image;
  mpld3_Image.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Image.prototype.constructor = mpld3_Image;
  mpld3_Image.prototype.requiredProps = [ "data", "extent" ***REMOVED***;
  mpld3_Image.prototype.defaultProps = {
    alpha: 1,
    coordinates: "data",
    zorder: 1
  ***REMOVED***;
  function mpld3_Image(ax, props***REMOVED*** {
    mpld3_PlotElement.call(this, ax, props***REMOVED***;
    this.coords = new mpld3_Coordinates(this.props.coordinates, this.ax***REMOVED***;
  ***REMOVED***
  mpld3_Image.prototype.draw = function(***REMOVED*** {
    this.image = this.ax.axes.append("svg:image"***REMOVED***.attr("class", "mpld3-image"***REMOVED***.attr("xlink:href", "data:image/png;base64," + this.props.data***REMOVED***.style({
      opacity: this.props.alpha
***REMOVED******REMOVED***.attr("preserveAspectRatio", "none"***REMOVED***;
    this.zoomed(***REMOVED***;
  ***REMOVED***;
  mpld3_Image.prototype.elements = function(d***REMOVED*** {
    return d3.select(this.image***REMOVED***;
  ***REMOVED***;
  mpld3_Image.prototype.zoomed = function(***REMOVED*** {
    var extent = this.props.extent;
    this.image.attr("x", this.coords.x(extent[0***REMOVED******REMOVED******REMOVED***.attr("y", this.coords.y(extent[3***REMOVED******REMOVED******REMOVED***.attr("width", this.coords.x(extent[1***REMOVED******REMOVED*** - this.coords.x(extent[0***REMOVED******REMOVED******REMOVED***.attr("height", this.coords.y(extent[2***REMOVED******REMOVED*** - this.coords.y(extent[3***REMOVED******REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3.Text = mpld3_Text;
  mpld3_Text.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Text.prototype.constructor = mpld3_Text;
  mpld3_Text.prototype.requiredProps = [ "text", "position" ***REMOVED***;
  mpld3_Text.prototype.defaultProps = {
    coordinates: "data",
    h_anchor: "start",
    v_baseline: "auto",
    rotation: 0,
    fontsize: 11,
    color: "black",
    alpha: 1,
    zorder: 3
  ***REMOVED***;
  function mpld3_Text(ax, props***REMOVED*** {
    mpld3_PlotElement.call(this, ax, props***REMOVED***;
    this.text = this.props.text;
    this.position = this.props.position;
    this.coords = new mpld3_Coordinates(this.props.coordinates, this.ax***REMOVED***;
  ***REMOVED***
  mpld3_Text.prototype.draw = function(***REMOVED*** {
    if (this.props.coordinates == "data"***REMOVED*** {
      this.obj = this.ax.axes.append("text"***REMOVED***;
***REMOVED*** else {
      this.obj = this.ax.baseaxes.append("text"***REMOVED***;
***REMOVED***
    this.obj.attr("class", "mpld3-text"***REMOVED***.text(this.text***REMOVED***.style("text-anchor", this.props.h_anchor***REMOVED***.style("dominant-baseline", this.props.v_baseline***REMOVED***.style("font-size", this.props.fontsize***REMOVED***.style("fill", this.props.color***REMOVED***.style("opacity", this.props.alpha***REMOVED***;
    this.applyTransform(***REMOVED***;
  ***REMOVED***;
  mpld3_Text.prototype.elements = function(d***REMOVED*** {
    return d3.select(this.obj***REMOVED***;
  ***REMOVED***;
  mpld3_Text.prototype.applyTransform = function(***REMOVED*** {
    var pos = this.coords.xy(this.position***REMOVED***;
    this.obj.attr("x", pos[0***REMOVED******REMOVED***.attr("y", pos[1***REMOVED******REMOVED***;
    if (this.props.rotation***REMOVED*** this.obj.attr("transform", "rotate(" + this.props.rotation + "," + pos + "***REMOVED***"***REMOVED***;
  ***REMOVED***;
  mpld3_Text.prototype.zoomed = function(***REMOVED*** {
    if (this.coords.zoomable***REMOVED*** this.applyTransform(***REMOVED***;
  ***REMOVED***;
  mpld3.Axes = mpld3_Axes;
  mpld3_Axes.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Axes.prototype.constructor = mpld3_Axes;
  mpld3_Axes.prototype.requiredProps = [ "xlim", "ylim" ***REMOVED***;
  mpld3_Axes.prototype.defaultProps = {
    bbox: [ .1, .1, .8, .8 ***REMOVED***,
    axesbg: "#FFFFFF",
    axesbgalpha: 1,
    gridOn: false,
    xdomain: null,
    ydomain: null,
    xscale: "linear",
    yscale: "linear",
    zoomable: true,
    axes: [ {
      position: "left"
***REMOVED*** {
      position: "bottom"
***REMOVED*** ***REMOVED***,
    lines: [***REMOVED***,
    paths: [***REMOVED***,
    markers: [***REMOVED***,
    texts: [***REMOVED***,
    collections: [***REMOVED***,
    sharex: [***REMOVED***,
    sharey: [***REMOVED***,
    images: [***REMOVED***
  ***REMOVED***;
  function mpld3_Axes(fig, props***REMOVED*** {
    mpld3_PlotElement.call(this, fig, props***REMOVED***;
    this.axnum = this.fig.axes.length;
    this.axid = this.fig.figid + "_ax" + (this.axnum + 1***REMOVED***;
    this.clipid = this.axid + "_clip";
    this.props.xdomain = this.props.xdomain || this.props.xlim;
    this.props.ydomain = this.props.ydomain || this.props.ylim;
    this.sharex = [***REMOVED***;
    this.sharey = [***REMOVED***;
    this.elements = [***REMOVED***;
    var bbox = this.props.bbox;
    this.position = [ bbox[0***REMOVED*** * this.fig.width, (1 - bbox[1***REMOVED*** - bbox[3***REMOVED******REMOVED*** * this.fig.height ***REMOVED***;
    this.width = bbox[2***REMOVED*** * this.fig.width;
    this.height = bbox[3***REMOVED*** * this.fig.height;
    function buildDate(d***REMOVED*** {
      return new Date(d[0***REMOVED***, d[1***REMOVED***, d[2***REMOVED***, d[3***REMOVED***, d[4***REMOVED***, d[5***REMOVED******REMOVED***;
***REMOVED***
    function setDomain(scale, domain***REMOVED*** {
      return scale !== "date" ? domain : [ buildDate(domain[0***REMOVED******REMOVED***, buildDate(domain[1***REMOVED******REMOVED*** ***REMOVED***;
***REMOVED***
    this.props.xdomain = setDomain(this.props.xscale, this.props.xdomain***REMOVED***;
    this.props.ydomain = setDomain(this.props.yscale, this.props.ydomain***REMOVED***;
    function build_scale(scale, domain, range***REMOVED*** {
      var dom = scale === "date" ? d3.time.scale(***REMOVED*** : scale === "log" ? d3.scale.log(***REMOVED*** : d3.scale.linear(***REMOVED***;
      return dom.domain(domain***REMOVED***.range(range***REMOVED***;
***REMOVED***
    this.x = this.xdom = build_scale(this.props.xscale, this.props.xdomain, [ 0, this.width ***REMOVED******REMOVED***;
    this.y = this.ydom = build_scale(this.props.yscale, this.props.ydomain, [ this.height, 0 ***REMOVED******REMOVED***;
    if (this.props.xscale === "date"***REMOVED*** {
      this.x = mpld3.multiscale(d3.scale.linear(***REMOVED***.domain(this.props.xlim***REMOVED***.range(this.props.xdomain.map(Number***REMOVED******REMOVED***, this.xdom***REMOVED***;
***REMOVED***
    if (this.props.yscale === "date"***REMOVED*** {
      this.x = mpld3.multiscale(d3.scale.linear(***REMOVED***.domain(this.props.ylim***REMOVED***.range(this.props.ydomain.map(Number***REMOVED******REMOVED***, this.ydom***REMOVED***;
***REMOVED***
    var axes = this.props.axes;
    for (var i = 0; i < axes.length; i++***REMOVED*** {
      var axis = new mpld3.Axis(this, axes[i***REMOVED******REMOVED***;
      this.elements.push(axis***REMOVED***;
      if (this.props.gridOn || axis.props.grid.gridOn***REMOVED*** {
        this.elements.push(axis.getGrid(***REMOVED******REMOVED***;
  ***REMOVED***
***REMOVED***
    var paths = this.props.paths;
    for (var i = 0; i < paths.length; i++***REMOVED*** {
      this.elements.push(new mpld3.Path(this, paths[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    var lines = this.props.lines;
    for (var i = 0; i < lines.length; i++***REMOVED*** {
      this.elements.push(new mpld3.Line(this, lines[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    var markers = this.props.markers;
    for (var i = 0; i < markers.length; i++***REMOVED*** {
      this.elements.push(new mpld3.Markers(this, markers[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    var texts = this.props.texts;
    for (var i = 0; i < texts.length; i++***REMOVED*** {
      this.elements.push(new mpld3.Text(this, texts[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    var collections = this.props.collections;
    for (var i = 0; i < collections.length; i++***REMOVED*** {
      this.elements.push(new mpld3.PathCollection(this, collections[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    var images = this.props.images;
    for (var i = 0; i < images.length; i++***REMOVED*** {
      this.elements.push(new mpld3.Image(this, images[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    this.elements.sort(function(a, b***REMOVED*** {
      return a.props.zorder - b.props.zorder;
***REMOVED******REMOVED***;
  ***REMOVED***
  mpld3_Axes.prototype.draw = function(***REMOVED*** {
    for (var i = 0; i < this.props.sharex.length; i++***REMOVED*** {
      this.sharex.push(mpld3.get_element(this.props.sharex[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    for (var i = 0; i < this.props.sharey.length; i++***REMOVED*** {
      this.sharey.push(mpld3.get_element(this.props.sharey[i***REMOVED******REMOVED******REMOVED***;
***REMOVED***
    this.zoom = d3.behavior.zoom(***REMOVED***;
    this.zoom.last_t = this.zoom.translate(***REMOVED***;
    this.zoom.last_s = this.zoom.scale(***REMOVED***;
    this.zoom_x = d3.behavior.zoom(***REMOVED***.x(this.xdom***REMOVED***;
    this.zoom_y = d3.behavior.zoom(***REMOVED***.y(this.ydom***REMOVED***;
    this.baseaxes = this.fig.canvas.append("g"***REMOVED***.attr("transform", "translate(" + this.position[0***REMOVED*** + "," + this.position[1***REMOVED*** + "***REMOVED***"***REMOVED***.attr("width", this.width***REMOVED***.attr("height", this.height***REMOVED***.attr("class", "mpld3-baseaxes"***REMOVED***;
    this.clip = this.baseaxes.append("svg:clipPath"***REMOVED***.attr("id", this.clipid***REMOVED***.append("svg:rect"***REMOVED***.attr("x", 0***REMOVED***.attr("y", 0***REMOVED***.attr("width", this.width***REMOVED***.attr("height", this.height***REMOVED***;
    this.axes = this.baseaxes.append("g"***REMOVED***.attr("class", "mpld3-axes"***REMOVED***.attr("clip-path", "url(#" + this.clipid + "***REMOVED***"***REMOVED***;
    this.axesbg = this.axes.append("svg:rect"***REMOVED***.attr("width", this.width***REMOVED***.attr("height", this.height***REMOVED***.attr("class", "mpld3-axesbg"***REMOVED***.style("fill", this.props.axesbg***REMOVED***.style("fill-opacity", this.props.axesbgalpha***REMOVED***;
    for (var i = 0; i < this.elements.length; i++***REMOVED*** {
      this.elements[i***REMOVED***.draw(***REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3_Axes.prototype.enable_zoom = function(***REMOVED*** {
    if (this.props.zoomable***REMOVED*** {
      this.zoom.on("zoom", this.zoomed.bind(this, true***REMOVED******REMOVED***;
      this.axes.call(this.zoom***REMOVED***;
      this.axes.style("cursor", "move"***REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3_Axes.prototype.disable_zoom = function(***REMOVED*** {
    if (this.props.zoomable***REMOVED*** {
      this.zoom.on("zoom", null***REMOVED***;
      this.axes.on(".zoom", null***REMOVED***;
      this.axes.style("cursor", null***REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3_Axes.prototype.zoomed = function(propagate***REMOVED*** {
    propagate = typeof propagate == "undefined" ? true : propagate;
    if (propagate***REMOVED*** {
      var dt0 = this.zoom.translate(***REMOVED***[0***REMOVED*** - this.zoom.last_t[0***REMOVED***;
      var dt1 = this.zoom.translate(***REMOVED***[1***REMOVED*** - this.zoom.last_t[1***REMOVED***;
      var ds = this.zoom.scale(***REMOVED*** / this.zoom.last_s;
      this.zoom_x.translate([ this.zoom_x.translate(***REMOVED***[0***REMOVED*** + dt0, 0 ***REMOVED******REMOVED***;
      this.zoom_x.scale(this.zoom_x.scale(***REMOVED*** * ds***REMOVED***;
      this.zoom_y.translate([ 0, this.zoom_y.translate(***REMOVED***[1***REMOVED*** + dt1 ***REMOVED******REMOVED***;
      this.zoom_y.scale(this.zoom_y.scale(***REMOVED*** * ds***REMOVED***;
      this.zoom.last_t = this.zoom.translate(***REMOVED***;
      this.zoom.last_s = this.zoom.scale(***REMOVED***;
      this.sharex.forEach(function(ax***REMOVED*** {
        ax.zoom_x.translate(this.zoom_x.translate(***REMOVED******REMOVED***.scale(this.zoom_x.scale(***REMOVED******REMOVED***;
  ***REMOVED***.bind(this***REMOVED******REMOVED***;
      this.sharey.forEach(function(ax***REMOVED*** {
        ax.zoom_y.translate(this.zoom_y.translate(***REMOVED******REMOVED***.scale(this.zoom_y.scale(***REMOVED******REMOVED***;
  ***REMOVED***.bind(this***REMOVED******REMOVED***;
      this.sharex.forEach(function(ax***REMOVED*** {
        ax.zoomed(false***REMOVED***;
  ***REMOVED******REMOVED***;
      this.sharey.forEach(function(ax***REMOVED*** {
        ax.zoomed(false***REMOVED***;
  ***REMOVED******REMOVED***;
***REMOVED***
    for (var i = 0; i < this.elements.length; i++***REMOVED*** {
      this.elements[i***REMOVED***.zoomed(***REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3_Axes.prototype.reset = function(duration, propagate***REMOVED*** {
    this.set_axlim(this.props.xdomain, this.props.ydomain, duration, propagate***REMOVED***;
  ***REMOVED***;
  mpld3_Axes.prototype.set_axlim = function(xlim, ylim, duration, propagate***REMOVED*** {
    xlim = isUndefinedOrNull(xlim***REMOVED*** ? this.xdom.domain(***REMOVED*** : xlim;
    ylim = isUndefinedOrNull(ylim***REMOVED*** ? this.ydom.domain(***REMOVED*** : ylim;
    duration = isUndefinedOrNull(duration***REMOVED*** ? 750 : duration;
    propagate = isUndefined(propagate***REMOVED*** ? true : propagate;
    var interpX = this.props.xscale === "date" ? mpld3.interpolateDates(this.xdom.domain(***REMOVED***, xlim***REMOVED*** : d3.interpolate(this.xdom.domain(***REMOVED***, xlim***REMOVED***;
    var interpY = this.props.yscale === "date" ? mpld3.interpolateDates(this.ydom.domain(***REMOVED***, ylim***REMOVED*** : d3.interpolate(this.ydom.domain(***REMOVED***, ylim***REMOVED***;
    var transition = function(t***REMOVED*** {
      this.zoom_x.x(this.xdom.domain(interpX(t***REMOVED******REMOVED******REMOVED***;
      this.zoom_y.y(this.ydom.domain(interpY(t***REMOVED******REMOVED******REMOVED***;
      this.zoomed(false***REMOVED***;
***REMOVED***.bind(this***REMOVED***;
    d3.select({***REMOVED******REMOVED***.transition(***REMOVED***.duration(duration***REMOVED***.tween("zoom", function(***REMOVED*** {
      return transition;
***REMOVED******REMOVED***;
    if (propagate***REMOVED*** {
      this.sharex.forEach(function(ax***REMOVED*** {
        ax.set_axlim(xlim, null, duration, false***REMOVED***;
  ***REMOVED******REMOVED***;
      this.sharey.forEach(function(ax***REMOVED*** {
        ax.set_axlim(null, ylim, duration, false***REMOVED***;
  ***REMOVED******REMOVED***;
***REMOVED***
    this.zoom.scale(1***REMOVED***.translate([ 0, 0 ***REMOVED******REMOVED***;
    this.zoom.last_t = this.zoom.translate(***REMOVED***;
    this.zoom.last_s = this.zoom.scale(***REMOVED***;
    this.zoom_x.scale(1***REMOVED***.translate([ 0, 0 ***REMOVED******REMOVED***;
    this.zoom_y.scale(1***REMOVED***.translate([ 0, 0 ***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3.Toolbar = mpld3_Toolbar;
  mpld3_Toolbar.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Toolbar.prototype.constructor = mpld3_Toolbar;
  mpld3_Toolbar.prototype.defaultProps = {
    buttons: [ "reset", "move" ***REMOVED***
  ***REMOVED***;
  function mpld3_Toolbar(fig, props***REMOVED*** {
    mpld3_PlotElement.call(this, fig, props***REMOVED***;
    this.buttons = [***REMOVED***;
    this.props.buttons.forEach(this.addButton.bind(this***REMOVED******REMOVED***;
  ***REMOVED***
  mpld3_Toolbar.prototype.addButton = function(button***REMOVED*** {
    this.buttons.push(new button(this***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Toolbar.prototype.draw = function(***REMOVED*** {
    mpld3.insert_css("div#" + this.fig.figid + " .mpld3-toolbar image", {
      cursor: "pointer",
      opacity: .2,
      display: "inline-block",
      margin: "0px"
***REMOVED******REMOVED***;
    mpld3.insert_css("div#" + this.fig.figid + " .mpld3-toolbar image.active", {
      opacity: .4
***REMOVED******REMOVED***;
    mpld3.insert_css("div#" + this.fig.figid + " .mpld3-toolbar image.pressed", {
      opacity: .6
***REMOVED******REMOVED***;
    function showButtons(***REMOVED*** {
      this.buttonsobj.transition(750***REMOVED***.attr("y", 0***REMOVED***;
***REMOVED***
    function hideButtons(***REMOVED*** {
      this.buttonsobj.transition(750***REMOVED***.delay(250***REMOVED***.attr("y", 16***REMOVED***;
***REMOVED***
    this.fig.canvas.on("mouseenter", showButtons.bind(this***REMOVED******REMOVED***.on("mouseleave", hideButtons.bind(this***REMOVED******REMOVED***.on("touchenter", showButtons.bind(this***REMOVED******REMOVED***.on("touchstart", showButtons.bind(this***REMOVED******REMOVED***;
    this.toolbar = this.fig.canvas.append("svg:svg"***REMOVED***.attr("width", 16 * this.buttons.length***REMOVED***.attr("height", 16***REMOVED***.attr("x", 2***REMOVED***.attr("y", this.fig.height - 16 - 2***REMOVED***.attr("class", "mpld3-toolbar"***REMOVED***;
    this.buttonsobj = this.toolbar.append("svg:g"***REMOVED***.selectAll("buttons"***REMOVED***.data(this.buttons***REMOVED***.enter(***REMOVED***.append("svg:image"***REMOVED***.attr("class", function(d***REMOVED*** {
      return d.cssclass;
***REMOVED******REMOVED***.attr("xlink:href", function(d***REMOVED*** {
      return d.icon(***REMOVED***;
***REMOVED******REMOVED***.attr("width", 16***REMOVED***.attr("height", 16***REMOVED***.attr("x", function(d, i***REMOVED*** {
      return i * 16;
***REMOVED******REMOVED***.attr("y", 16***REMOVED***.on("click", function(d***REMOVED*** {
      d.click(***REMOVED***;
***REMOVED******REMOVED***.on("mouseenter", function(***REMOVED*** {
      d3.select(this***REMOVED***.classed({
        active: 1
  ***REMOVED******REMOVED***;
***REMOVED******REMOVED***.on("mouseleave", function(***REMOVED*** {
      d3.select(this***REMOVED***.classed({
        active: 0
  ***REMOVED******REMOVED***;
***REMOVED******REMOVED***;
    for (var i = 0; i < this.buttons.length; i++***REMOVED*** this.buttons[i***REMOVED***.onDraw(***REMOVED***;
  ***REMOVED***;
  mpld3_Toolbar.prototype.deactivate_all = function(***REMOVED*** {
    this.buttons.forEach(function(b***REMOVED*** {
      b.deactivate(***REMOVED***;
***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Toolbar.prototype.deactivate_by_action = function(actions***REMOVED*** {
    function filt(e***REMOVED*** {
      return actions.indexOf(e***REMOVED*** !== -1;
***REMOVED***
    if (actions.length > 0***REMOVED*** {
      this.buttons.forEach(function(button***REMOVED*** {
        if (button.actions.filter(filt***REMOVED***.length > 0***REMOVED*** button.deactivate(***REMOVED***;
  ***REMOVED******REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3.Button = mpld3_Button;
  mpld3_Button.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Button.prototype.constructor = mpld3_Button;
  function mpld3_Button(toolbar, key***REMOVED*** {
    mpld3_PlotElement.call(this, toolbar***REMOVED***;
    this.toolbar = toolbar;
    this.fig = this.toolbar.fig;
    this.cssclass = "mpld3-" + key + "button";
    this.active = false;
  ***REMOVED***
  mpld3_Button.prototype.setState = function(state***REMOVED*** {
    state ? this.activate(***REMOVED*** : this.deactivate(***REMOVED***;
  ***REMOVED***;
  mpld3_Button.prototype.click = function(***REMOVED*** {
    this.active ? this.deactivate(***REMOVED*** : this.activate(***REMOVED***;
  ***REMOVED***;
  mpld3_Button.prototype.activate = function(***REMOVED*** {
    this.toolbar.deactivate_by_action(this.actions***REMOVED***;
    this.onActivate(***REMOVED***;
    this.active = true;
    this.toolbar.toolbar.select("." + this.cssclass***REMOVED***.classed({
      pressed: true
***REMOVED******REMOVED***;
    if (!this.sticky***REMOVED*** this.deactivate(***REMOVED***;
  ***REMOVED***;
  mpld3_Button.prototype.deactivate = function(***REMOVED*** {
    this.onDeactivate(***REMOVED***;
    this.active = false;
    this.toolbar.toolbar.select("." + this.cssclass***REMOVED***.classed({
      pressed: false
***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Button.prototype.sticky = false;
  mpld3_Button.prototype.actions = [***REMOVED***;
  mpld3_Button.prototype.icon = function(***REMOVED*** {
    return "";
  ***REMOVED***;
  mpld3_Button.prototype.onActivate = function(***REMOVED*** {***REMOVED***;
  mpld3_Button.prototype.onDeactivate = function(***REMOVED*** {***REMOVED***;
  mpld3_Button.prototype.onDraw = function(***REMOVED*** {***REMOVED***;
  mpld3.ButtonFactory = function(members***REMOVED*** {
    if (typeof members.buttonID !== "string"***REMOVED*** {
      throw "ButtonFactory: buttonID must be present and be a string";
***REMOVED***
    function B(toolbar***REMOVED*** {
      mpld3_Button.call(this, toolbar, this.buttonID***REMOVED***;
***REMOVED***
    B.prototype = Object.create(mpld3_Button.prototype***REMOVED***;
    B.prototype.constructor = B;
    for (var key in members***REMOVED*** {
      B.prototype[key***REMOVED*** = members[key***REMOVED***;
***REMOVED***
    return B;
  ***REMOVED***;
  mpld3.Plugin = mpld3_Plugin;
  mpld3_Plugin.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Plugin.prototype.constructor = mpld3_Plugin;
  mpld3_Plugin.prototype.requiredProps = [***REMOVED***;
  mpld3_Plugin.prototype.defaultProps = {***REMOVED***;
  function mpld3_Plugin(fig, props***REMOVED*** {
    mpld3_PlotElement.call(this, fig, props***REMOVED***;
  ***REMOVED***
  mpld3_Plugin.prototype.draw = function(***REMOVED*** {***REMOVED***;
  mpld3.ResetPlugin = mpld3_ResetPlugin;
  mpld3.register_plugin("reset", mpld3_ResetPlugin***REMOVED***;
  mpld3_ResetPlugin.prototype = Object.create(mpld3_Plugin.prototype***REMOVED***;
  mpld3_ResetPlugin.prototype.constructor = mpld3_ResetPlugin;
  mpld3_ResetPlugin.prototype.requiredProps = [***REMOVED***;
  mpld3_ResetPlugin.prototype.defaultProps = {***REMOVED***;
  function mpld3_ResetPlugin(fig, props***REMOVED*** {
    mpld3_Plugin.call(this, fig, props***REMOVED***;
    var ResetButton = mpld3.ButtonFactory({
      buttonID: "reset",
      sticky: false,
      onActivate: function(***REMOVED*** {
        this.toolbar.fig.reset(***REMOVED***;
  ***REMOVED***
      icon: function(***REMOVED*** {
        return mpld3.icons["reset"***REMOVED***;
  ***REMOVED***
***REMOVED******REMOVED***;
    this.fig.buttons.push(ResetButton***REMOVED***;
  ***REMOVED***
  mpld3.ZoomPlugin = mpld3_ZoomPlugin;
  mpld3.register_plugin("zoom", mpld3_ZoomPlugin***REMOVED***;
  mpld3_ZoomPlugin.prototype = Object.create(mpld3_Plugin.prototype***REMOVED***;
  mpld3_ZoomPlugin.prototype.constructor = mpld3_ZoomPlugin;
  mpld3_ZoomPlugin.prototype.requiredProps = [***REMOVED***;
  mpld3_ZoomPlugin.prototype.defaultProps = {
    button: true,
    enabled: null
  ***REMOVED***;
  function mpld3_ZoomPlugin(fig, props***REMOVED*** {
    mpld3_Plugin.call(this, fig, props***REMOVED***;
    if (this.props.enabled === null***REMOVED*** {
      this.props.enabled = !this.props.button;
***REMOVED***
    var enabled = this.props.enabled;
    if (this.props.button***REMOVED*** {
      var ZoomButton = mpld3.ButtonFactory({
        buttonID: "zoom",
        sticky: true,
        actions: [ "scroll", "drag" ***REMOVED***,
        onActivate: this.activate.bind(this***REMOVED***,
        onDeactivate: this.deactivate.bind(this***REMOVED***,
        onDraw: function(***REMOVED*** {
          this.setState(enabled***REMOVED***;
***REMOVED***
        icon: function(***REMOVED*** {
          return mpld3.icons["move"***REMOVED***;
    ***REMOVED***
  ***REMOVED******REMOVED***;
      this.fig.buttons.push(ZoomButton***REMOVED***;
***REMOVED***
  ***REMOVED***
  mpld3_ZoomPlugin.prototype.activate = function(***REMOVED*** {
    this.fig.enable_zoom(***REMOVED***;
  ***REMOVED***;
  mpld3_ZoomPlugin.prototype.deactivate = function(***REMOVED*** {
    this.fig.disable_zoom(***REMOVED***;
  ***REMOVED***;
  mpld3_ZoomPlugin.prototype.draw = function(***REMOVED*** {
    if (this.props.enabled***REMOVED*** this.fig.enable_zoom(***REMOVED***; else this.fig.disable_zoom(***REMOVED***;
  ***REMOVED***;
  mpld3.BoxZoomPlugin = mpld3_BoxZoomPlugin;
  mpld3.register_plugin("boxzoom", mpld3_BoxZoomPlugin***REMOVED***;
  mpld3_BoxZoomPlugin.prototype = Object.create(mpld3_Plugin.prototype***REMOVED***;
  mpld3_BoxZoomPlugin.prototype.constructor = mpld3_BoxZoomPlugin;
  mpld3_BoxZoomPlugin.prototype.requiredProps = [***REMOVED***;
  mpld3_BoxZoomPlugin.prototype.defaultProps = {
    button: true,
    enabled: null
  ***REMOVED***;
  function mpld3_BoxZoomPlugin(fig, props***REMOVED*** {
    mpld3_Plugin.call(this, fig, props***REMOVED***;
    if (this.props.enabled === null***REMOVED*** {
      this.props.enabled = !this.props.button;
***REMOVED***
    var enabled = this.props.enabled;
    if (this.props.button***REMOVED*** {
      var BoxZoomButton = mpld3.ButtonFactory({
        buttonID: "boxzoom",
        sticky: true,
        actions: [ "drag" ***REMOVED***,
        onActivate: this.activate.bind(this***REMOVED***,
        onDeactivate: this.deactivate.bind(this***REMOVED***,
        onDraw: function(***REMOVED*** {
          this.setState(enabled***REMOVED***;
***REMOVED***
        icon: function(***REMOVED*** {
          return mpld3.icons["zoom"***REMOVED***;
    ***REMOVED***
  ***REMOVED******REMOVED***;
      this.fig.buttons.push(BoxZoomButton***REMOVED***;
***REMOVED***
    this.extentClass = "boxzoombrush";
  ***REMOVED***
  mpld3_BoxZoomPlugin.prototype.activate = function(***REMOVED*** {
    if (this.enable***REMOVED*** this.enable(***REMOVED***;
  ***REMOVED***;
  mpld3_BoxZoomPlugin.prototype.deactivate = function(***REMOVED*** {
    if (this.disable***REMOVED*** this.disable(***REMOVED***;
  ***REMOVED***;
  mpld3_BoxZoomPlugin.prototype.draw = function(***REMOVED*** {
    mpld3.insert_css("#" + this.fig.figid + " rect.extent." + this.extentClass, {
      fill: "#fff",
      "fill-opacity": 0,
      stroke: "#999"
***REMOVED******REMOVED***;
    var brush = this.fig.getBrush(***REMOVED***;
    this.enable = function(***REMOVED*** {
      this.fig.showBrush(this.extentClass***REMOVED***;
      brush.on("brushend", brushend.bind(this***REMOVED******REMOVED***;
      this.enabled = true;
***REMOVED***;
    this.disable = function(***REMOVED*** {
      this.fig.hideBrush(this.extentClass***REMOVED***;
      this.enabled = false;
***REMOVED***;
    this.toggle = function(***REMOVED*** {
      this.enabled ? this.disable(***REMOVED*** : this.enable(***REMOVED***;
***REMOVED***;
    function brushend(d***REMOVED*** {
      if (this.enabled***REMOVED*** {
        var extent = brush.extent(***REMOVED***;
        if (!brush.empty(***REMOVED******REMOVED*** {
          d.set_axlim([ extent[0***REMOVED***[0***REMOVED***, extent[1***REMOVED***[0***REMOVED*** ***REMOVED***, [ extent[0***REMOVED***[1***REMOVED***, extent[1***REMOVED***[1***REMOVED*** ***REMOVED******REMOVED***;
    ***REMOVED***
  ***REMOVED***
      d.axes.call(brush.clear(***REMOVED******REMOVED***;
***REMOVED***
    this.disable(***REMOVED***;
  ***REMOVED***;
  mpld3.TooltipPlugin = mpld3_TooltipPlugin;
  mpld3.register_plugin("tooltip", mpld3_TooltipPlugin***REMOVED***;
  mpld3_TooltipPlugin.prototype = Object.create(mpld3_Plugin.prototype***REMOVED***;
  mpld3_TooltipPlugin.prototype.constructor = mpld3_TooltipPlugin;
  mpld3_TooltipPlugin.prototype.requiredProps = [ "id" ***REMOVED***;
  mpld3_TooltipPlugin.prototype.defaultProps = {
    labels: null,
    hoffset: 0,
    voffset: 10,
    location: "mouse"
  ***REMOVED***;
  function mpld3_TooltipPlugin(fig, props***REMOVED*** {
    mpld3_Plugin.call(this, fig, props***REMOVED***;
  ***REMOVED***
  mpld3_TooltipPlugin.prototype.draw = function(***REMOVED*** {
    var obj = mpld3.get_element(this.props.id, this.fig***REMOVED***;
    var labels = this.props.labels;
    var loc = this.props.location;
    this.tooltip = this.fig.canvas.append("text"***REMOVED***.attr("class", "mpld3-tooltip-text"***REMOVED***.attr("x", 0***REMOVED***.attr("y", 0***REMOVED***.text(""***REMOVED***.style("visibility", "hidden"***REMOVED***;
    if (loc == "bottom left" || loc == "top left"***REMOVED*** {
      this.x = obj.ax.position[0***REMOVED*** + 5 + this.props.hoffset;
      this.tooltip.style("text-anchor", "beginning"***REMOVED***;
***REMOVED*** else if (loc == "bottom right" || loc == "top right"***REMOVED*** {
      this.x = obj.ax.position[0***REMOVED*** + obj.ax.width - 5 + this.props.hoffset;
      this.tooltip.style("text-anchor", "end"***REMOVED***;
***REMOVED*** else {
      this.tooltip.style("text-anchor", "middle"***REMOVED***;
***REMOVED***
    if (loc == "bottom left" || loc == "bottom right"***REMOVED*** {
      this.y = obj.ax.position[1***REMOVED*** + obj.ax.height - 5 + this.props.voffset;
***REMOVED*** else if (loc == "top left" || loc == "top right"***REMOVED*** {
      this.y = obj.ax.position[1***REMOVED*** + 5 + this.props.voffset;
***REMOVED***
    function mouseover(d, i***REMOVED*** {
      this.tooltip.style("visibility", "visible"***REMOVED***.text(labels === null ? "(" + d + "***REMOVED***" : getMod(labels, i***REMOVED******REMOVED***;
***REMOVED***
    function mousemove(d, i***REMOVED*** {
      if (loc === "mouse"***REMOVED*** {
        var pos = d3.mouse(this.fig.canvas.node(***REMOVED******REMOVED***;
        this.x = pos[0***REMOVED*** + this.props.hoffset;
        this.y = pos[1***REMOVED*** - this.props.voffset;
  ***REMOVED***
      this.tooltip.attr("x", this.x***REMOVED***.attr("y", this.y***REMOVED***;
***REMOVED***
    function mouseout(d, i***REMOVED*** {
      this.tooltip.style("visibility", "hidden"***REMOVED***;
***REMOVED***
    obj.elements(***REMOVED***.on("mouseover", mouseover.bind(this***REMOVED******REMOVED***.on("mousemove", mousemove.bind(this***REMOVED******REMOVED***.on("mouseout", mouseout.bind(this***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3.LinkedBrushPlugin = mpld3_LinkedBrushPlugin;
  mpld3.register_plugin("linkedbrush", mpld3_LinkedBrushPlugin***REMOVED***;
  mpld3_LinkedBrushPlugin.prototype = Object.create(mpld3.Plugin.prototype***REMOVED***;
  mpld3_LinkedBrushPlugin.prototype.constructor = mpld3_LinkedBrushPlugin;
  mpld3_LinkedBrushPlugin.prototype.requiredProps = [ "id" ***REMOVED***;
  mpld3_LinkedBrushPlugin.prototype.defaultProps = {
    button: true,
    enabled: null
  ***REMOVED***;
  function mpld3_LinkedBrushPlugin(fig, props***REMOVED*** {
    mpld3.Plugin.call(this, fig, props***REMOVED***;
    if (this.props.enabled === null***REMOVED*** {
      this.props.enabled = !this.props.button;
***REMOVED***
    var enabled = this.props.enabled;
    if (this.props.button***REMOVED*** {
      var BrushButton = mpld3.ButtonFactory({
        buttonID: "linkedbrush",
        sticky: true,
        actions: [ "drag" ***REMOVED***,
        onActivate: this.activate.bind(this***REMOVED***,
        onDeactivate: this.deactivate.bind(this***REMOVED***,
        onDraw: function(***REMOVED*** {
          this.setState(enabled***REMOVED***;
***REMOVED***
        icon: function(***REMOVED*** {
          return mpld3.icons["brush"***REMOVED***;
    ***REMOVED***
  ***REMOVED******REMOVED***;
      this.fig.buttons.push(BrushButton***REMOVED***;
***REMOVED***
    this.extentClass = "linkedbrush";
  ***REMOVED***
  mpld3_LinkedBrushPlugin.prototype.activate = function(***REMOVED*** {
    if (this.enable***REMOVED*** this.enable(***REMOVED***;
  ***REMOVED***;
  mpld3_LinkedBrushPlugin.prototype.deactivate = function(***REMOVED*** {
    if (this.disable***REMOVED*** this.disable(***REMOVED***;
  ***REMOVED***;
  mpld3_LinkedBrushPlugin.prototype.draw = function(***REMOVED*** {
    var obj = mpld3.get_element(this.props.id***REMOVED***;
    if (obj === null***REMOVED*** {
      throw "LinkedBrush: no object with id='" + this.props.id + "' was found";
***REMOVED***
    var fig = this.fig;
    if (!("offsets" in obj.props***REMOVED******REMOVED*** {
      throw "Plot object with id='" + this.props.id + "' is not a scatter plot";
***REMOVED***
    var dataKey = "offsets" in obj.props ? "offsets" : "data";
    mpld3.insert_css("#" + fig.figid + " rect.extent." + this.extentClass, {
      fill: "#000",
      "fill-opacity": .125,
      stroke: "#fff"
***REMOVED******REMOVED***;
    mpld3.insert_css("#" + fig.figid + " path.mpld3-hidden", {
      stroke: "#ccc !important",
      fill: "#ccc !important"
***REMOVED******REMOVED***;
    var dataClass = "mpld3data-" + obj.props[dataKey***REMOVED***;
    var brush = fig.getBrush(***REMOVED***;
    var dataByAx = [***REMOVED***;
    fig.axes.forEach(function(ax***REMOVED*** {
      var axData = [***REMOVED***;
      ax.elements.forEach(function(el***REMOVED*** {
        if (el.props[dataKey***REMOVED*** === obj.props[dataKey***REMOVED******REMOVED*** {
          el.group.classed(dataClass, true***REMOVED***;
          axData.push(el***REMOVED***;
    ***REMOVED***
  ***REMOVED******REMOVED***;
      dataByAx.push(axData***REMOVED***;
***REMOVED******REMOVED***;
    var allData = [***REMOVED***;
    var dataToBrush = fig.canvas.selectAll("." + dataClass***REMOVED***;
    var currentAxes;
    function brushstart(d***REMOVED*** {
      if (currentAxes != this***REMOVED*** {
        d3.select(currentAxes***REMOVED***.call(brush.clear(***REMOVED******REMOVED***;
        currentAxes = this;
        brush.x(d.xdom***REMOVED***.y(d.ydom***REMOVED***;
  ***REMOVED***
***REMOVED***
    function brushmove(d***REMOVED*** {
      var data = dataByAx[d.axnum***REMOVED***;
      if (data.length > 0***REMOVED*** {
        var ix = data[0***REMOVED***.props.xindex;
        var iy = data[0***REMOVED***.props.yindex;
        var e = brush.extent(***REMOVED***;
        if (brush.empty(***REMOVED******REMOVED*** {
          dataToBrush.selectAll("path"***REMOVED***.classed("mpld3-hidden", false***REMOVED***;
    ***REMOVED*** else {
          dataToBrush.selectAll("path"***REMOVED***.classed("mpld3-hidden", function(p***REMOVED*** {
            return e[0***REMOVED***[0***REMOVED*** > p[ix***REMOVED*** || e[1***REMOVED***[0***REMOVED*** < p[ix***REMOVED*** || e[0***REMOVED***[1***REMOVED*** > p[iy***REMOVED*** || e[1***REMOVED***[1***REMOVED*** < p[iy***REMOVED***;
      ***REMOVED******REMOVED***;
    ***REMOVED***
  ***REMOVED***
***REMOVED***
    function brushend(d***REMOVED*** {
      if (brush.empty(***REMOVED******REMOVED*** {
        dataToBrush.selectAll("path"***REMOVED***.classed("mpld3-hidden", false***REMOVED***;
  ***REMOVED***
***REMOVED***
    this.enable = function(***REMOVED*** {
      this.fig.showBrush(this.extentClass***REMOVED***;
      brush.on("brushstart", brushstart***REMOVED***.on("brush", brushmove***REMOVED***.on("brushend", brushend***REMOVED***;
      this.enabled = true;
***REMOVED***;
    this.disable = function(***REMOVED*** {
      d3.select(currentAxes***REMOVED***.call(brush.clear(***REMOVED******REMOVED***;
      this.fig.hideBrush(this.extentClass***REMOVED***;
      this.enabled = false;
***REMOVED***;
    this.disable(***REMOVED***;
  ***REMOVED***;
  mpld3.register_plugin("mouseposition", MousePositionPlugin***REMOVED***;
  MousePositionPlugin.prototype = Object.create(mpld3.Plugin.prototype***REMOVED***;
  MousePositionPlugin.prototype.constructor = MousePositionPlugin;
  MousePositionPlugin.prototype.requiredProps = [***REMOVED***;
  MousePositionPlugin.prototype.defaultProps = {
    fontsize: 12,
    fmt: ".3g"
  ***REMOVED***;
  function MousePositionPlugin(fig, props***REMOVED*** {
    mpld3.Plugin.call(this, fig, props***REMOVED***;
  ***REMOVED***
  MousePositionPlugin.prototype.draw = function(***REMOVED*** {
    var fig = this.fig;
    var fmt = d3.format(this.props.fmt***REMOVED***;
    var coords = fig.canvas.append("text"***REMOVED***.attr("class", "mpld3-coordinates"***REMOVED***.style("text-anchor", "end"***REMOVED***.style("font-size", this.props.fontsize***REMOVED***.attr("x", this.fig.width - 5***REMOVED***.attr("y", this.fig.height - 5***REMOVED***;
    for (var i = 0; i < this.fig.axes.length; i++***REMOVED*** {
      var update_coords = function(***REMOVED*** {
        var ax = fig.axes[i***REMOVED***;
        return function(***REMOVED*** {
          var pos = d3.mouse(this***REMOVED***, x = ax.x.invert(pos[0***REMOVED******REMOVED***, y = ax.y.invert(pos[1***REMOVED******REMOVED***;
          coords.text("(" + fmt(x***REMOVED*** + ", " + fmt(y***REMOVED*** + "***REMOVED***"***REMOVED***;
    ***REMOVED***;
  ***REMOVED***(***REMOVED***;
      fig.axes[i***REMOVED***.baseaxes.on("mousemove", update_coords***REMOVED***.on("mouseout", function(***REMOVED*** {
        coords.text(""***REMOVED***;
  ***REMOVED******REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3.Figure = mpld3_Figure;
  mpld3_Figure.prototype = Object.create(mpld3_PlotElement.prototype***REMOVED***;
  mpld3_Figure.prototype.constructor = mpld3_Figure;
  mpld3_Figure.prototype.requiredProps = [ "width", "height" ***REMOVED***;
  mpld3_Figure.prototype.defaultProps = {
    data: {***REMOVED***,
    axes: [***REMOVED***,
    plugins: [ {
      type: "reset"
***REMOVED*** {
      type: "zoom"
***REMOVED*** {
      type: "boxzoom"
***REMOVED*** ***REMOVED***
  ***REMOVED***;
  function mpld3_Figure(figid, props***REMOVED*** {
    mpld3_PlotElement.call(this, null, props***REMOVED***;
    this.figid = figid;
    this.width = this.props.width;
    this.height = this.props.height;
    this.data = this.props.data;
    this.buttons = [***REMOVED***;
    this.root = d3.select("#" + figid***REMOVED***.append("div"***REMOVED***.style("position", "relative"***REMOVED***;
    this.axes = [***REMOVED***;
    for (var i = 0; i < this.props.axes.length; i++***REMOVED*** this.axes.push(new mpld3_Axes(this, this.props.axes[i***REMOVED******REMOVED******REMOVED***;
    this.plugins = [***REMOVED***;
    for (var i = 0; i < this.props.plugins.length; i++***REMOVED*** this.add_plugin(this.props.plugins[i***REMOVED******REMOVED***;
    this.toolbar = new mpld3.Toolbar(this, {
      buttons: this.buttons
***REMOVED******REMOVED***;
  ***REMOVED***
  mpld3_Figure.prototype.getBrush = function(***REMOVED*** {
    if (typeof this._brush === "undefined"***REMOVED*** {
      var brush = d3.svg.brush(***REMOVED***.x(d3.scale.linear(***REMOVED******REMOVED***.y(d3.scale.linear(***REMOVED******REMOVED***;
      this.root.selectAll(".mpld3-axes"***REMOVED***.data(this.axes***REMOVED***.call(brush***REMOVED***;
      this.axes.forEach(function(ax***REMOVED*** {
        brush.x(ax.xdom***REMOVED***.y(ax.ydom***REMOVED***;
        ax.axes.call(brush***REMOVED***;
  ***REMOVED******REMOVED***;
      this._brush = brush;
      this.hideBrush(***REMOVED***;
***REMOVED***
    return this._brush;
  ***REMOVED***;
  mpld3_Figure.prototype.showBrush = function(extentClass***REMOVED*** {
    extentClass = typeof extentClass === "undefined" ? "" : extentClass;
    var brush = this.getBrush(***REMOVED***;
    brush.on("brushstart", function(d***REMOVED*** {
      brush.x(d.xdom***REMOVED***.y(d.ydom***REMOVED***;
***REMOVED******REMOVED***;
    this.canvas.selectAll("rect.background"***REMOVED***.style("cursor", "crosshair"***REMOVED***.style("pointer-events", null***REMOVED***;
    this.canvas.selectAll("rect.extent, rect.resize"***REMOVED***.style("display", null***REMOVED***.classed(extentClass, true***REMOVED***;
  ***REMOVED***;
  mpld3_Figure.prototype.hideBrush = function(extentClass***REMOVED*** {
    extentClass = typeof extentClass === "undefined" ? "" : extentClass;
    var brush = this.getBrush(***REMOVED***;
    brush.on("brushstart", null***REMOVED***.on("brush", null***REMOVED***.on("brushend", function(d***REMOVED*** {
      d.axes.call(brush.clear(***REMOVED******REMOVED***;
***REMOVED******REMOVED***;
    this.canvas.selectAll("rect.background"***REMOVED***.style("cursor", null***REMOVED***.style("pointer-events", "visible"***REMOVED***;
    this.canvas.selectAll("rect.extent, rect.resize"***REMOVED***.style("display", "none"***REMOVED***.classed(extentClass, false***REMOVED***;
  ***REMOVED***;
  mpld3_Figure.prototype.add_plugin = function(props***REMOVED*** {
    var plug = props.type;
    if (typeof plug === "undefined"***REMOVED*** {
      console.warn("unspecified plugin type. Skipping this"***REMOVED***;
      return;
***REMOVED***
    props = mpld3_cloneObj(props***REMOVED***;
    delete props.type;
    if (plug in mpld3.plugin_map***REMOVED*** plug = mpld3.plugin_map[plug***REMOVED***;
    if (typeof plug !== "function"***REMOVED*** {
      console.warn("Skipping unrecognized plugin: " + plug***REMOVED***;
      return;
***REMOVED***
    if (props.clear_toolbar***REMOVED*** {
      this.props.toolbar = [***REMOVED***;
***REMOVED***
    if ("buttons" in props***REMOVED*** {
      if (typeof props.buttons === "string"***REMOVED*** {
        this.props.toolbar.push(props.buttons***REMOVED***;
  ***REMOVED*** else {
        for (var i = 0; i < props.buttons.length; i++***REMOVED*** {
          this.props.toolbar.push(props.buttons[i***REMOVED******REMOVED***;
    ***REMOVED***
  ***REMOVED***
***REMOVED***
    this.plugins.push(new plug(this, props***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Figure.prototype.draw = function(***REMOVED*** {
    this.canvas = this.root.append("svg:svg"***REMOVED***.attr("class", "mpld3-figure"***REMOVED***.attr("width", this.width***REMOVED***.attr("height", this.height***REMOVED***;
    for (var i = 0; i < this.axes.length; i++***REMOVED*** {
      this.axes[i***REMOVED***.draw(***REMOVED***;
***REMOVED***
    this.disable_zoom(***REMOVED***;
    for (var i = 0; i < this.plugins.length; i++***REMOVED*** {
      this.plugins[i***REMOVED***.draw(***REMOVED***;
***REMOVED***
    this.toolbar.draw(***REMOVED***;
  ***REMOVED***;
  mpld3_Figure.prototype.reset = function(duration***REMOVED*** {
    this.axes.forEach(function(ax***REMOVED*** {
      ax.reset(duration, false***REMOVED***;
***REMOVED******REMOVED***;
  ***REMOVED***;
  mpld3_Figure.prototype.enable_zoom = function(***REMOVED*** {
    for (var i = 0; i < this.axes.length; i++***REMOVED*** {
      this.axes[i***REMOVED***.enable_zoom(***REMOVED***;
***REMOVED***
    this.zoom_on = true;
  ***REMOVED***;
  mpld3_Figure.prototype.disable_zoom = function(***REMOVED*** {
    for (var i = 0; i < this.axes.length; i++***REMOVED*** {
      this.axes[i***REMOVED***.disable_zoom(***REMOVED***;
***REMOVED***
    this.zoom_on = false;
  ***REMOVED***;
  mpld3_Figure.prototype.toggle_zoom = function(***REMOVED*** {
    if (this.zoom_on***REMOVED*** {
      this.disable_zoom(***REMOVED***;
***REMOVED*** else {
      this.enable_zoom(***REMOVED***;
***REMOVED***
  ***REMOVED***;
  mpld3_Figure.prototype.get_data = function(data***REMOVED*** {
    if (data === null || typeof data === "undefined"***REMOVED*** {
      return null;
***REMOVED*** else if (typeof data === "string"***REMOVED*** {
      return this.data[data***REMOVED***;
***REMOVED*** else {
      return data;
***REMOVED***
  ***REMOVED***;
  mpld3.PlotElement = mpld3_PlotElement;
  function mpld3_PlotElement(parent, props***REMOVED*** {
    this.parent = isUndefinedOrNull(parent***REMOVED*** ? null : parent;
    this.props = isUndefinedOrNull(props***REMOVED*** ? {***REMOVED*** : this.processProps(props***REMOVED***;
    this.fig = parent instanceof mpld3_Figure ? parent : parent && "fig" in parent ? parent.fig : null;
    this.ax = parent instanceof mpld3_Axes ? parent : parent && "ax" in parent ? parent.ax : null;
  ***REMOVED***
  mpld3_PlotElement.prototype.requiredProps = [***REMOVED***;
  mpld3_PlotElement.prototype.defaultProps = {***REMOVED***;
  mpld3_PlotElement.prototype.processProps = function(props***REMOVED*** {
    props = mpld3_cloneObj(props***REMOVED***;
    var finalProps = {***REMOVED***;
    var this_name = this.name(***REMOVED***;
    this.requiredProps.forEach(function(p***REMOVED*** {
      if (!(p in props***REMOVED******REMOVED*** {
        throw "property '" + p + "' " + "must be specified for " + this_name;
  ***REMOVED***
      finalProps[p***REMOVED*** = props[p***REMOVED***;
      delete props[p***REMOVED***;
***REMOVED******REMOVED***;
    for (var p in this.defaultProps***REMOVED*** {
      if (p in props***REMOVED*** {
        finalProps[p***REMOVED*** = props[p***REMOVED***;
        delete props[p***REMOVED***;
  ***REMOVED*** else {
        finalProps[p***REMOVED*** = this.defaultProps[p***REMOVED***;
  ***REMOVED***
***REMOVED***
    if ("id" in props***REMOVED*** {
      finalProps.id = props.id;
      delete props.id;
***REMOVED*** else if (!("id" in finalProps***REMOVED******REMOVED*** {
      finalProps.id = mpld3.generateId(***REMOVED***;
***REMOVED***
    for (var p in props***REMOVED*** {
      console.warn("Unrecognized property '" + p + "' " + "for object " + this.name(***REMOVED*** + " (value = " + props[p***REMOVED*** + "***REMOVED***."***REMOVED***;
***REMOVED***
    return finalProps;
  ***REMOVED***;
  mpld3_PlotElement.prototype.name = function(***REMOVED*** {
    var funcNameRegex = /function (.{1,***REMOVED******REMOVED***\(/;
    var results = funcNameRegex.exec(this.constructor.toString(***REMOVED******REMOVED***;
    return results && results.length > 1 ? results[1***REMOVED*** : "";
  ***REMOVED***;
  if (typeof module === "object" && module.exports***REMOVED*** {
    module.exports = mpld3;
  ***REMOVED*** else {
    this.mpld3 = mpld3;
  ***REMOVED***
  console.log("Loaded mpld3 version " + mpld3.version***REMOVED***;
***REMOVED***(d3***REMOVED***;