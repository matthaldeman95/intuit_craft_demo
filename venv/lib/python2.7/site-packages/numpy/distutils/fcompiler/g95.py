# http://g95.sourceforge.net/
from __future__ import division, absolute_import, print_function

from numpy.distutils.fcompiler import FCompiler

compilers = ['G95FCompiler'***REMOVED***

class G95FCompiler(FCompiler***REMOVED***:
    compiler_type = 'g95'
    description = 'G95 Fortran Compiler'

#    version_pattern = r'G95 \((GCC (?P<gccversion>[\d.***REMOVED***+***REMOVED***|.*?***REMOVED*** \(g95!\***REMOVED*** (?P<version>.****REMOVED***\***REMOVED***.*'
    # $ g95 --version
    # G95 (GCC 4.0.3 (g95!***REMOVED*** May 22 2006***REMOVED***

    version_pattern = r'G95 \((GCC (?P<gccversion>[\d.***REMOVED***+***REMOVED***|.*?***REMOVED*** \(g95 (?P<version>.****REMOVED***!\***REMOVED*** (?P<date>.****REMOVED***\***REMOVED***.*'
    # $ g95 --version
    # G95 (GCC 4.0.3 (g95 0.90!***REMOVED*** Aug 22 2006***REMOVED***

    executables = {
        'version_cmd'  : ["<F90>", "--version"***REMOVED***,
        'compiler_f77' : ["g95", "-ffixed-form"***REMOVED***,
        'compiler_fix' : ["g95", "-ffixed-form"***REMOVED***,
        'compiler_f90' : ["g95"***REMOVED***,
        'linker_so'    : ["<F90>", "-shared"***REMOVED***,
        'archiver'     : ["ar", "-cr"***REMOVED***,
        'ranlib'       : ["ranlib"***REMOVED***
    ***REMOVED***
    pic_flags = ['-fpic'***REMOVED***
    module_dir_switch = '-fmod='
    module_include_switch = '-I'

    def get_flags(self***REMOVED***:
        return ['-fno-second-underscore'***REMOVED***
    def get_flags_opt(self***REMOVED***:
        return ['-O'***REMOVED***
    def get_flags_debug(self***REMOVED***:
        return ['-g'***REMOVED***

if __name__ == '__main__':
    from distutils import log
    log.set_verbosity(2***REMOVED***
    compiler = G95FCompiler(***REMOVED***
    compiler.customize(***REMOVED***
    print(compiler.get_version(***REMOVED******REMOVED***
