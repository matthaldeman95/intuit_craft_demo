from __future__ import division, absolute_import, print_function

***REMOVED***
from distutils.command.install_headers import install_headers as old_install_headers

class install_headers (old_install_headers***REMOVED***:

    def run (self***REMOVED***:
        headers = self.distribution.headers
        if not headers:
            return

        prefix = os.path.dirname(self.install_dir***REMOVED***
        for header in headers:
            if isinstance(header, tuple***REMOVED***:
                # Kind of a hack, but I don't know where else to change this...
                if header[0***REMOVED*** == 'numpy.core':
                    header = ('numpy', header[1***REMOVED******REMOVED***
                    if os.path.splitext(header[1***REMOVED******REMOVED***[1***REMOVED*** == '.inc':
                        continue
                d = os.path.join(*([prefix***REMOVED***+header[0***REMOVED***.split('.'***REMOVED******REMOVED******REMOVED***
                header = header[1***REMOVED***
            else:
                d = self.install_dir
            self.mkpath(d***REMOVED***
            (out, _***REMOVED*** = self.copy_file(header, d***REMOVED***
            self.outfiles.append(out***REMOVED***
