from __future__ import division, absolute_import, print_function

import sys
if 'setuptools' in sys.modules:
    from setuptools.command.sdist import sdist as old_sdist
else:
    from distutils.command.sdist import sdist as old_sdist

from numpy.distutils.misc_util import get_data_files

class sdist(old_sdist***REMOVED***:

    def add_defaults (self***REMOVED***:
        old_sdist.add_defaults(self***REMOVED***

        dist = self.distribution

        if dist.has_data_files(***REMOVED***:
            for data in dist.data_files:
                self.filelist.extend(get_data_files(data***REMOVED******REMOVED***

        if dist.has_headers(***REMOVED***:
            headers = [***REMOVED***
            for h in dist.headers:
                if isinstance(h, str***REMOVED***: headers.append(h***REMOVED***
                else: headers.append(h[1***REMOVED******REMOVED***
            self.filelist.extend(headers***REMOVED***

        return
