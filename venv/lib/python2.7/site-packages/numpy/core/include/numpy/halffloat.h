#ifndef __NPY_HALFFLOAT_H__
#define __NPY_HALFFLOAT_H__

#include <Python.h>
#include <numpy/npy_math.h>

#ifdef __cplusplus
extern "C" {
#endif

/*
 * Half-precision routines
 */

/* Conversions */
float npy_half_to_float(npy_half h***REMOVED***;
double npy_half_to_double(npy_half h***REMOVED***;
npy_half npy_float_to_half(float f***REMOVED***;
npy_half npy_double_to_half(double d***REMOVED***;
/* Comparisons */
int npy_half_eq(npy_half h1, npy_half h2***REMOVED***;
int npy_half_ne(npy_half h1, npy_half h2***REMOVED***;
int npy_half_le(npy_half h1, npy_half h2***REMOVED***;
int npy_half_lt(npy_half h1, npy_half h2***REMOVED***;
int npy_half_ge(npy_half h1, npy_half h2***REMOVED***;
int npy_half_gt(npy_half h1, npy_half h2***REMOVED***;
/* faster *_nonan variants for when you know h1 and h2 are not NaN */
int npy_half_eq_nonan(npy_half h1, npy_half h2***REMOVED***;
int npy_half_lt_nonan(npy_half h1, npy_half h2***REMOVED***;
int npy_half_le_nonan(npy_half h1, npy_half h2***REMOVED***;
/* Miscellaneous functions */
int npy_half_iszero(npy_half h***REMOVED***;
int npy_half_isnan(npy_half h***REMOVED***;
int npy_half_isinf(npy_half h***REMOVED***;
int npy_half_isfinite(npy_half h***REMOVED***;
int npy_half_signbit(npy_half h***REMOVED***;
npy_half npy_half_copysign(npy_half x, npy_half y***REMOVED***;
npy_half npy_half_spacing(npy_half h***REMOVED***;
npy_half npy_half_nextafter(npy_half x, npy_half y***REMOVED***;
npy_half npy_half_divmod(npy_half x, npy_half y, npy_half *modulus***REMOVED***;

/*
 * Half-precision constants
 */

#define NPY_HALF_ZERO   (0x0000u***REMOVED***
#define NPY_HALF_PZERO  (0x0000u***REMOVED***
#define NPY_HALF_NZERO  (0x8000u***REMOVED***
#define NPY_HALF_ONE    (0x3c00u***REMOVED***
#define NPY_HALF_NEGONE (0xbc00u***REMOVED***
#define NPY_HALF_PINF   (0x7c00u***REMOVED***
#define NPY_HALF_NINF   (0xfc00u***REMOVED***
#define NPY_HALF_NAN    (0x7e00u***REMOVED***

#define NPY_MAX_HALF    (0x7bffu***REMOVED***

/*
 * Bit-level conversions
 */

npy_uint16 npy_floatbits_to_halfbits(npy_uint32 f***REMOVED***;
npy_uint16 npy_doublebits_to_halfbits(npy_uint64 d***REMOVED***;
npy_uint32 npy_halfbits_to_floatbits(npy_uint16 h***REMOVED***;
npy_uint64 npy_halfbits_to_doublebits(npy_uint16 h***REMOVED***;

#ifdef __cplusplus
***REMOVED***
#endif

#endif
