/* File: wrapmodule.c
 * This file is auto-generated with f2py (version:2_1330***REMOVED***.
 * Hand edited by Pearu.
 * f2py is a Fortran to Python Interface Generator (FPIG***REMOVED***, Second Edition,
 * written by Pearu Peterson <pearu@cens.ioc.ee>.
 * See http://cens.ioc.ee/projects/f2py2e/
 * Generation date: Fri Oct 21 22:41:12 2005
 * $Revision:$
 * $Date:$
 * Do not edit this file directly unless you know what you are doing!!!
 */
#ifdef __cplusplus
extern "C" {
#endif

/*********************** See f2py2e/cfuncs.py: includes ***********************/
#include "Python.h"
#include "fortranobject.h"
#include <math.h>

static PyObject *wrap_error;
static PyObject *wrap_module;

/************************************ call ************************************/
static char doc_f2py_rout_wrap_call[***REMOVED*** = "\
Function signature:\n\
  arr = call(type_num,dims,intent,obj***REMOVED***\n\
Required arguments:\n"
"  type_num : input int\n"
"  dims : input int-sequence\n"
"  intent : input int\n"
"  obj : input python object\n"
"Return objects:\n"
"  arr : array";
static PyObject *f2py_rout_wrap_call(PyObject *capi_self,
				     PyObject *capi_args***REMOVED*** {
  PyObject * volatile capi_buildvalue = NULL;
  int type_num = 0;
  npy_intp *dims = NULL;
  PyObject *dims_capi = Py_None;
  int rank = 0;
  int intent = 0;
  PyArrayObject *capi_arr_tmp = NULL;
  PyObject *arr_capi = Py_None;
  int i;

  if (!PyArg_ParseTuple(capi_args,"iOiO|:wrap.call",\
			&type_num,&dims_capi,&intent,&arr_capi***REMOVED******REMOVED***
    return NULL;
  rank = PySequence_Length(dims_capi***REMOVED***;
  dims = malloc(rank*sizeof(npy_intp***REMOVED******REMOVED***;
  for (i=0;i<rank;++i***REMOVED***
    dims[i***REMOVED*** = (npy_intp***REMOVED***PyInt_AsLong(PySequence_GetItem(dims_capi,i***REMOVED******REMOVED***;

  capi_arr_tmp = array_from_pyobj(type_num,dims,rank,intent|F2PY_INTENT_OUT,arr_capi***REMOVED***;
  if (capi_arr_tmp == NULL***REMOVED*** {
    free(dims***REMOVED***;
    return NULL;
  ***REMOVED***
  capi_buildvalue = Py_BuildValue("N",capi_arr_tmp***REMOVED***;
  free(dims***REMOVED***;
  return capi_buildvalue;
***REMOVED***

static char doc_f2py_rout_wrap_attrs[***REMOVED*** = "\
Function signature:\n\
  arr = array_attrs(arr***REMOVED***\n\
Required arguments:\n"
"  arr : input array object\n"
"Return objects:\n"
"  data : data address in hex\n"
"  nd : int\n"
"  dimensions : tuple\n"
"  strides : tuple\n"
"  base : python object\n"
"  (kind,type,type_num,elsize,alignment***REMOVED*** : 4-tuple\n"
"  flags : int\n"
"  itemsize : int\n"
;
static PyObject *f2py_rout_wrap_attrs(PyObject *capi_self,
				      PyObject *capi_args***REMOVED*** {
  PyObject *arr_capi = Py_None;
  PyArrayObject *arr = NULL;
  PyObject *dimensions = NULL;
  PyObject *strides = NULL;
  char s[100***REMOVED***;
  int i;
  memset(s,0,100*sizeof(char***REMOVED******REMOVED***;
  if (!PyArg_ParseTuple(capi_args,"O!|:wrap.attrs",
			&PyArray_Type,&arr_capi***REMOVED******REMOVED***
    return NULL;
  arr = (PyArrayObject ****REMOVED***arr_capi;
  sprintf(s,"%p",PyArray_DATA(arr***REMOVED******REMOVED***;
  dimensions = PyTuple_New(PyArray_NDIM(arr***REMOVED******REMOVED***;
  strides = PyTuple_New(PyArray_NDIM(arr***REMOVED******REMOVED***;
  for (i=0;i<PyArray_NDIM(arr***REMOVED***;++i***REMOVED*** {
    PyTuple_SetItem(dimensions,i,PyInt_FromLong(PyArray_DIM(arr,i***REMOVED******REMOVED******REMOVED***;
    PyTuple_SetItem(strides,i,PyInt_FromLong(PyArray_STRIDE(arr,i***REMOVED******REMOVED******REMOVED***;
  ***REMOVED***
  return Py_BuildValue("siOOO(cciii***REMOVED***ii",s,PyArray_NDIM(arr***REMOVED***,
		       dimensions,strides,
		       (PyArray_BASE(arr***REMOVED***==NULL?Py_None:PyArray_BASE(arr***REMOVED******REMOVED***,
		       PyArray_DESCR(arr***REMOVED***->kind,
		       PyArray_DESCR(arr***REMOVED***->type,
		       PyArray_TYPE(arr***REMOVED***,
		       PyArray_ITEMSIZE(arr***REMOVED***,
		       PyArray_DESCR(arr***REMOVED***->alignment,
		       PyArray_FLAGS(arr***REMOVED***,
		       PyArray_ITEMSIZE(arr***REMOVED******REMOVED***;
***REMOVED***

static PyMethodDef f2py_module_methods[***REMOVED*** = {

  {"call",f2py_rout_wrap_call,METH_VARARGS,doc_f2py_rout_wrap_call***REMOVED***,
  {"array_attrs",f2py_rout_wrap_attrs,METH_VARARGS,doc_f2py_rout_wrap_attrs***REMOVED***,
  {NULL,NULL***REMOVED***
***REMOVED***;

#if PY_VERSION_HEX >= 0x03000000
static struct PyModuleDef moduledef = {
    PyModuleDef_HEAD_INIT,
    "test_array_from_pyobj_ext",
    NULL,
    -1,
    f2py_module_methods,
    NULL,
    NULL,
    NULL,
    NULL
***REMOVED***;
#endif

#if PY_VERSION_HEX >= 0x03000000
#define RETVAL m
PyMODINIT_FUNC PyInit_test_array_from_pyobj_ext(void***REMOVED*** {
#else
#define RETVAL
PyMODINIT_FUNC inittest_array_from_pyobj_ext(void***REMOVED*** {
#endif
  PyObject *m,*d, *s;
#if PY_VERSION_HEX >= 0x03000000
  m = wrap_module = PyModule_Create(&moduledef***REMOVED***;
#else
  m = wrap_module = Py_InitModule("test_array_from_pyobj_ext", f2py_module_methods***REMOVED***;
#endif
  Py_TYPE(&PyFortran_Type***REMOVED*** = &PyType_Type;
  import_array(***REMOVED***;
  if (PyErr_Occurred(***REMOVED******REMOVED***
    Py_FatalError("can't initialize module wrap (failed to import numpy***REMOVED***"***REMOVED***;
  d = PyModule_GetDict(m***REMOVED***;
  s = PyString_FromString("This module 'wrap' is auto-generated with f2py (version:2_1330***REMOVED***.\nFunctions:\n"
"  arr = call(type_num,dims,intent,obj***REMOVED***\n"
"."***REMOVED***;
  PyDict_SetItemString(d, "__doc__", s***REMOVED***;
  wrap_error = PyErr_NewException ("wrap.error", NULL, NULL***REMOVED***;
  Py_DECREF(s***REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_IN", PyInt_FromLong(F2PY_INTENT_IN***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_INOUT", PyInt_FromLong(F2PY_INTENT_INOUT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_OUT", PyInt_FromLong(F2PY_INTENT_OUT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_HIDE", PyInt_FromLong(F2PY_INTENT_HIDE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_CACHE", PyInt_FromLong(F2PY_INTENT_CACHE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_COPY", PyInt_FromLong(F2PY_INTENT_COPY***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_C", PyInt_FromLong(F2PY_INTENT_C***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_OPTIONAL", PyInt_FromLong(F2PY_OPTIONAL***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "F2PY_INTENT_INPLACE", PyInt_FromLong(F2PY_INTENT_INPLACE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_BOOL", PyInt_FromLong(NPY_BOOL***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_BYTE", PyInt_FromLong(NPY_BYTE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_UBYTE", PyInt_FromLong(NPY_UBYTE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_SHORT", PyInt_FromLong(NPY_SHORT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_USHORT", PyInt_FromLong(NPY_USHORT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_INT", PyInt_FromLong(NPY_INT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_UINT", PyInt_FromLong(NPY_UINT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_INTP", PyInt_FromLong(NPY_INTP***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_UINTP", PyInt_FromLong(NPY_UINTP***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_LONG", PyInt_FromLong(NPY_LONG***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_ULONG", PyInt_FromLong(NPY_ULONG***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_LONGLONG", PyInt_FromLong(NPY_LONGLONG***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_ULONGLONG", PyInt_FromLong(NPY_ULONGLONG***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_FLOAT", PyInt_FromLong(NPY_FLOAT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_DOUBLE", PyInt_FromLong(NPY_DOUBLE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_LONGDOUBLE", PyInt_FromLong(NPY_LONGDOUBLE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_CFLOAT", PyInt_FromLong(NPY_CFLOAT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_CDOUBLE", PyInt_FromLong(NPY_CDOUBLE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_CLONGDOUBLE", PyInt_FromLong(NPY_CLONGDOUBLE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_OBJECT", PyInt_FromLong(NPY_OBJECT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_STRING", PyInt_FromLong(NPY_STRING***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_UNICODE", PyInt_FromLong(NPY_UNICODE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_VOID", PyInt_FromLong(NPY_VOID***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_NTYPES", PyInt_FromLong(NPY_NTYPES***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_NOTYPE", PyInt_FromLong(NPY_NOTYPE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "NPY_USERDEF", PyInt_FromLong(NPY_USERDEF***REMOVED******REMOVED***;

  PyDict_SetItemString(d, "CONTIGUOUS", PyInt_FromLong(NPY_ARRAY_C_CONTIGUOUS***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "FORTRAN", PyInt_FromLong(NPY_ARRAY_F_CONTIGUOUS***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "OWNDATA", PyInt_FromLong(NPY_ARRAY_OWNDATA***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "FORCECAST", PyInt_FromLong(NPY_ARRAY_FORCECAST***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "ENSURECOPY", PyInt_FromLong(NPY_ARRAY_ENSURECOPY***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "ENSUREARRAY", PyInt_FromLong(NPY_ARRAY_ENSUREARRAY***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "ALIGNED", PyInt_FromLong(NPY_ARRAY_ALIGNED***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "WRITEABLE", PyInt_FromLong(NPY_ARRAY_WRITEABLE***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "UPDATEIFCOPY", PyInt_FromLong(NPY_ARRAY_UPDATEIFCOPY***REMOVED******REMOVED***;

  PyDict_SetItemString(d, "BEHAVED", PyInt_FromLong(NPY_ARRAY_BEHAVED***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "BEHAVED_NS", PyInt_FromLong(NPY_ARRAY_BEHAVED_NS***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "CARRAY", PyInt_FromLong(NPY_ARRAY_CARRAY***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "FARRAY", PyInt_FromLong(NPY_ARRAY_FARRAY***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "CARRAY_RO", PyInt_FromLong(NPY_ARRAY_CARRAY_RO***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "FARRAY_RO", PyInt_FromLong(NPY_ARRAY_FARRAY_RO***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "DEFAULT", PyInt_FromLong(NPY_ARRAY_DEFAULT***REMOVED******REMOVED***;
  PyDict_SetItemString(d, "UPDATE_ALL", PyInt_FromLong(NPY_ARRAY_UPDATE_ALL***REMOVED******REMOVED***;

  if (PyErr_Occurred(***REMOVED******REMOVED***
    Py_FatalError("can't initialize module wrap"***REMOVED***;

#ifdef F2PY_REPORT_ATEXIT
  on_exit(f2py_report_on_exit,(void****REMOVED***"array_from_pyobj.wrap.call"***REMOVED***;
#endif

  return RETVAL;
***REMOVED***
#ifdef __cplusplus
***REMOVED***
#endif
