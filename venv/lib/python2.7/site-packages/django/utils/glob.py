from __future__ import unicode_literals

***REMOVED***.path
import re

from django.utils import six

# backport of Python 3.4's glob.escape

if six.PY3:
    from glob import escape as glob_escape
else:
    _magic_check = re.compile('([*?[***REMOVED******REMOVED***'***REMOVED***

    def glob_escape(pathname***REMOVED***:
        ***REMOVED***
        Escape all special characters.
        ***REMOVED***
        drive, pathname = os.path.splitdrive(pathname***REMOVED***
        pathname = _magic_check.sub(r'[\1***REMOVED***', pathname***REMOVED***
        return drive + pathname
