from django.apps import AppConfig
from django.db.backends.signals import connection_created
from django.db.models import CharField, TextField
from django.utils.translation import ugettext_lazy as _

from .lookups import SearchLookup, TrigramSimilar, Unaccent
from .signals import register_hstore_handler


class PostgresConfig(AppConfig***REMOVED***:
    name = 'django.contrib.postgres'
    verbose_name = _('PostgreSQL extensions'***REMOVED***

    def ready(self***REMOVED***:
        connection_created.connect(register_hstore_handler***REMOVED***
        CharField.register_lookup(Unaccent***REMOVED***
        TextField.register_lookup(Unaccent***REMOVED***
        CharField.register_lookup(SearchLookup***REMOVED***
        TextField.register_lookup(SearchLookup***REMOVED***
        CharField.register_lookup(TrigramSimilar***REMOVED***
        TextField.register_lookup(TrigramSimilar***REMOVED***
