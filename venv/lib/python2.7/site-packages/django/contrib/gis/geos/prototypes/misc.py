***REMOVED***
 This module is for the miscellaneous GEOS routines, particularly the
 ones that return the area, distance, and length.
***REMOVED***
from ctypes import POINTER, c_double, c_int

from django.contrib.gis.geos.libgeos import GEOM_PTR, GEOSFuncFactory
from django.contrib.gis.geos.prototypes.errcheck import check_dbl, check_string
from django.contrib.gis.geos.prototypes.geom import geos_char_p
from django.utils.six.moves import range

__all__ = ['geos_area', 'geos_distance', 'geos_length', 'geos_isvalidreason'***REMOVED***


class DblFromGeom(GEOSFuncFactory***REMOVED***:
    ***REMOVED***
    Argument is a Geometry, return type is double that is passed
    in by reference as the last argument.
    ***REMOVED***
    restype = c_int  # Status code returned
    errcheck = staticmethod(check_dbl***REMOVED***

    def get_func(self, num_geom=1***REMOVED***:
        argtypes = [GEOM_PTR for i in range(num_geom***REMOVED******REMOVED***
        argtypes += [POINTER(c_double***REMOVED******REMOVED***
        self.argtypes = argtypes
        return super(DblFromGeom, self***REMOVED***.get_func(***REMOVED***


# ### ctypes prototypes ###

# Area, distance, and length prototypes.
geos_area = DblFromGeom('GEOSArea'***REMOVED***
geos_distance = DblFromGeom('GEOSDistance', num_geom=2***REMOVED***
geos_length = DblFromGeom('GEOSLength'***REMOVED***
geos_isvalidreason = GEOSFuncFactory(
    'GEOSisValidReason', restype=geos_char_p, errcheck=check_string, argtypes=[GEOM_PTR***REMOVED***
***REMOVED***
