from __future__ import unicode_literals

from django.core.management.base import AppCommand
from django.db import DEFAULT_DB_ALIAS, connections


class Command(AppCommand***REMOVED***:
    help = 'Prints the SQL statements for resetting sequences for the given app name(s***REMOVED***.'

    output_transaction = True

    def add_arguments(self, parser***REMOVED***:
        super(Command, self***REMOVED***.add_arguments(parser***REMOVED***
        parser.add_argument(
            '--database', default=DEFAULT_DB_ALIAS,
            help='Nominates a database to print the SQL for. Defaults to the "default" database.',
        ***REMOVED***

    def handle_app_config(self, app_config, **options***REMOVED***:
        if app_config.models_module is None:
            return
        connection = connections[options['database'***REMOVED******REMOVED***
        models = app_config.get_models(include_auto_created=True***REMOVED***
        statements = connection.ops.sequence_reset_sql(self.style, models***REMOVED***
        return '\n'.join(statements***REMOVED***
