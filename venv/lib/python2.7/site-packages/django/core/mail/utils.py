***REMOVED***
Email message and email sending related helper functions.
***REMOVED***

import socket


# Cache the hostname, but do it lazily: socket.getfqdn(***REMOVED*** can take a couple of
# seconds, which slows down the restart of the server.
class CachedDnsName(object***REMOVED***:
    def __str__(self***REMOVED***:
        return self.get_fqdn(***REMOVED***

    def get_fqdn(self***REMOVED***:
        if not hasattr(self, '_fqdn'***REMOVED***:
            self._fqdn = socket.getfqdn(***REMOVED***
        return self._fqdn

DNS_NAME = CachedDnsName(***REMOVED***
